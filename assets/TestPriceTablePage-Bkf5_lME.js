import{p as C}from"./mockService-DQlG6rXj.js";import{u as T}from"./useApi-CaoFFzgj.js";import{V as w,a as L,c as N,b as P}from"./VCard-BzVGWa28.js";import{V as E,a as B}from"./VRow-Bb_h7gX3.js";import{V as M}from"./VAutocomplete-CQ6DHDHf.js";import{V as A}from"./VDivider-wkq_Fvh0.js";import{D as I,E as R,G as F,q as H,aC as O,aD as j,aE as G,I as U,y as D,ap as $,L as q,b as i,N as Y,P as z,aF as J,aG as K,d as Q,i as W,f as X,o as b,w as o,A as y,u as m,a as h,t as p,m as Z,c as k}from"./index-f8C_zMX3.js";import{V as ee}from"./VDataTable-EL6v3GbH.js";import"./VAvatar-DY70Vfi3.js";import"./VImg-BsVswq8j.js";/* empty css              */import"./VSelect-Bo52ohmC.js";import"./VTextField-BPkU892n.js";import"./VField-jI7I-AWn.js";import"./index-CF5R-frH.js";import"./VMenu-DzIjNET0.js";import"./ssrBoot-Djruo2cy.js";import"./VChip-Ct4oe-55.js";import"./VSlideGroup-BBzacc2p.js";import"./VTable-BMTfLIWf.js";function x(e,r="yyyy-MM-dd"){if(!e)return"";const a=typeof e=="string"?new Date(e):e;if(Number.isNaN(a.getTime()))return console.warn("Invalid date provided"),"";const n=t=>t.toString().padStart(2,"0"),u={yyyy:t=>t.getFullYear().toString(),MM:t=>n(t.getMonth()+1),dd:t=>n(t.getDate()),HH:t=>n(t.getHours()),mm:t=>n(t.getMinutes()),ss:t=>n(t.getSeconds()),fff:t=>n(t.getMilliseconds()),dddd:t=>t.toLocaleString("en-US",{weekday:"long"}),ddd:t=>t.toLocaleString("en-US",{weekday:"short"})};let d=r;for(const[t,c]of Object.entries(u)){const s=new RegExp(t,"g");d=d.replace(s,()=>c(a))}return d}const te={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function ae(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return i("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[r])}function S(e){const[r,a]=e.split("@");return Array.from({length:a}).map(()=>g(r))}function g(e){let r=[];if(!e)return r;const a=te[e];if(e!==a){if(e.includes(","))return _(e);if(e.includes("@"))return S(e);a.includes(",")?r=_(a):a.includes("@")?r=S(a):a&&r.push(g(a))}return[ae(e,r)]}function _(e){return e.replace(/\s/g,"").split(",").map(g)}const re=R({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...K(),...J(),...z()},"VSkeletonLoader"),oe=I()({name:"VSkeletonLoader",props:re(),setup(e,r){let{slots:a}=r;const{backgroundColorClasses:n,backgroundColorStyles:u}=F(H(e,"color")),{dimensionStyles:d}=O(e),{elevationClasses:t}=j(e),{themeClasses:c}=G(e),{t:s}=U(),f=D(()=>g($(e.type).join(",")));return q(()=>{var v;const l=!a.default||e.loading,V=e.boilerplate||!l?{}:{ariaLive:"polite",ariaLabel:s(e.loadingText),role:"alert"};return i("div",Y({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},c.value,n.value,t.value],style:[u.value,l?d.value:{}]},V),[l?f.value:(v=a.default)==null?void 0:v.call(a)])}),{}}}),ie={key:0,class:"text-center pa-4 text-error"},ne={key:1,class:"text-center pa-4"},Te=Q({__name:"TestPriceTablePage",setup(e){const r=[{title:"Order Number",key:"orderNumber",sortable:!1},{title:"Machine ID",key:"machineId",sortable:!1},{title:"Currency",key:"currency",sortable:!1},{title:"Contract Start Date",key:"contractStartDate",sortable:!1},{title:"Contract End Date",key:"contractEndDate",sortable:!1}],{data:a,loading:n,error:u,execute:d}=T(C.getPriceTables,{initialData:[]}),t=D(()=>{var c;return((c=a.value)==null?void 0:c.map(s=>({title:s.orderNumber,value:s.id})))??[]});return W(()=>{d()}),(c,s)=>{const f=Z("RouterLink");return b(),X(w,null,{default:o(()=>[i(N,null,{default:o(()=>[i(L,null,{default:o(()=>s[0]||(s[0]=[y("Price Table")])),_:1})]),_:1}),i(P,null,{default:o(()=>[i(E,null,{default:o(()=>[i(B,{cols:"12"},{default:o(()=>[i(M,{items:t.value,loading:m(n),label:"Select Order Number","item-title":"title","item-value":"value",clearable:""},null,8,["items","loading"])]),_:1})]),_:1})]),_:1}),i(A),i(ee,{headers:r,items:m(a)??[],loading:m(n),"item-value":"id"},{loading:o(()=>[i(oe,{type:"table-row@5"})]),"no-data":o(()=>[m(u)?(b(),k("div",ie," Error loading data: "+p(m(u)),1)):(b(),k("div",ne," No data available. "))]),"item.orderNumber":o(({item:l})=>[i(f,{to:{name:"TestPriceTableDetail",params:{id:l.id}},class:"text-primary text-decoration-none"},{default:o(()=>[y(p(l.orderNumber),1)]),_:2},1032,["to"])]),"item.contractStartDate":o(({item:l})=>[h("span",null,p(m(x)(l.contractStartDate)),1)]),"item.contractEndDate":o(({item:l})=>[h("span",null,p(m(x)(l.contractEndDate)),1)]),_:1},8,["items","loading"])]),_:1})}}});export{Te as default};

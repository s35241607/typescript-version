import{d as P,r as v,k as R,A as G,c as p,o as r,b as o,w as t,a as s,aa as f,y as c,ag as $,e as y,Q as J,t as j,i as h,V as K,F as w,B as W,n as X,_ as A}from"./index-B6_d_jRM.js";import{V as Y}from"./VSelect-Fwi5LEtB.js";import{b as z,c as Z}from"./VList-C_-CCqE5.js";import{V as S}from"./VTextField-CstEgtqg.js";import{b as ee,V as N,d as le}from"./VCard-BVBKGhN0.js";import{V as ae}from"./VMenu-CqHhrO4A.js";import{V as te}from"./VColorPicker-CMuf4OFG.js";import{V as oe}from"./VSpacer-DDe77aFb.js";import"./VCheckboxBtn-CZYskdM_.js";import"./VAvatar-9AbkrtnB.js";import"./VImg-DrfBuVRN.js";import"./VChip-B6x1DN2k.js";import"./index-By5FkeFA.js";import"./VSlideGroup-Dr4dyXDO.js";import"./ssrBoot-DOajnLWb.js";import"./VDivider-KvwWo4zG.js";import"./VSheet-CL5es4vL.js";/* empty css              */const se={class:"menu-content"},ne={class:"menu-title"},ie={class:"color-section"},re={class:"color-swatches"},ue=["aria-label","onClick"],de={class:"hex-input-row"},ce={class:"color-picker-container"},ve={class:"menu-footer"},pe={key:0},me={key:1,class:"d-flex justify-end gap-2"},fe=P({__name:"TagSelector",props:{modelValue:{},initial:{}},emits:["update:modelValue"],setup(T,{emit:x}){const b=T,L=x,n=v(b.initial??[{id:"discussion",label:"discussion",color:"#4a90e2"},{id:"documentation",label:"documentation",color:"#f5a623"},{id:"enhancement",label:"enhancement",color:"#7ed321"},{id:"suggestion",label:"suggestion",color:"#9bcdff"}]),m=v(b.modelValue??[]),k=v(""),u=v(""),i=v("#6699cc"),g=v(!1),V=v(null),d=v(!1);R(m,l=>L("update:modelValue",l));function M(){if(!u.value)return;const l=u.value.toLowerCase().replace(/\s+/g,"-"),e={id:l,label:u.value,color:i.value};n.value.unshift(e),m.value.push(l),u.value="",i.value="#6699cc",V.value=null,d.value=!1}function E(){V.value={label:u.value,color:i.value},d.value=!0}function B(){V.value?(u.value=V.value.label,i.value=V.value.color):(u.value="",i.value="#6699cc"),V.value=null,d.value=!1}function q(l){i.value=l}function I(){M(),d.value=!1}const H=G(()=>{if(!k.value)return n.value;const l=k.value.toLowerCase();return n.value.filter(e=>e.label.toLowerCase().includes(l))});function C(l){if(!l)return null;if(l.label||l.color||l.id)return l;if(typeof l=="string"){const e=n.value.find(a=>a.id===l);return e||{id:l,label:l}}return l.props?l.props:l.item?l.item:l.title?{label:l.title,id:l.value}:l}function O(l){const e=C(l);return(e&&(e.label??e.title??e.id))??""}function U(l){const e=C(l);return(e&&(e.color??e.bg??""))??""}const Q=["#e91e63","#f44336","#ad1457","#ff5722","#ff9800","#ffeb3b","#00e676","#8bc34a","#2196f3","#ffffff","#9c27b0","#512da8","#607d8b","#9e9e9e"];return(l,e)=>(r(),p("div",null,[o(Y,{modelValue:m.value,"onUpdate:modelValue":e[6]||(e[6]=a=>m.value=a),items:d.value?[]:H.value,"no-data-text":d.value?"":"No data available",label:"標記",multiple:"",chips:"","deletable-chips":"","item-title":"label","item-value":"id","hide-details":"",class:"tag-selector","menu-props":{maxHeight:"400px",closeOnContentClick:!1,contentClass:"tag-selector-menu"}},{"prepend-item":t(()=>[o(z,{class:"menu-header"},{default:t(()=>[s("div",se,[s("div",ne,[d.value?(r(),p(w,{key:1},[c(" 建立標記 (label) ")],64)):(r(),p(w,{key:0},[c(" 選擇標記(s) ")],64))]),d.value?(r(),h(N,{key:1,class:"create-card",elevation:"2"},{default:t(()=>[o(ee,null,{default:t(()=>[o(S,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),placeholder:"標籤名稱",variant:"outlined",density:"compact","hide-details":"",class:"label-input"},null,8,["modelValue"]),s("div",ie,[s("div",re,[(r(),p(w,null,W(Q,a=>s("button",{key:a,class:X(["color-swatch",{selected:i.value===a}]),style:y({backgroundColor:a}),"aria-label":a,onClick:$(_=>q(a),["prevent"])},null,14,ue)),64))]),s("div",de,[s("div",ce,[o(f,{variant:"text",size:"small",class:"color-picker-btn",onClick:e[2]||(e[2]=a=>g.value=!g.value)},{default:t(()=>[s("div",{class:"color-preview-btn",style:y({backgroundColor:i.value})},null,4)]),_:1}),o(ae,{modelValue:g.value,"onUpdate:modelValue":e[4]||(e[4]=a=>g.value=a),"close-on-content-click":!1,location:"bottom start"},{default:t(()=>[o(N,{class:"color-picker-card"},{default:t(()=>[o(te,{modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=a=>i.value=a),mode:"hexa","show-swatches":"","hide-canvas":"","hide-inputs":"",class:"compact-color-picker"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),o(S,{modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=a=>i.value=a),placeholder:"#6699cc",variant:"outlined",density:"compact","hide-details":"",class:"hex-input"},null,8,["modelValue"])])])]),_:1}),o(le,{class:"create-actions"},{default:t(()=>[o(oe),o(f,{variant:"text",onClick:B},{default:t(()=>[...e[7]||(e[7]=[c(" 取消 ",-1)])]),_:1}),o(f,{color:"primary",disabled:!u.value,onClick:I},{default:t(()=>[...e[8]||(e[8]=[c(" 建立 ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})):(r(),h(S,{key:0,modelValue:k.value,"onUpdate:modelValue":e[0]||(e[0]=a=>k.value=a),placeholder:"搜尋",variant:"outlined",density:"compact","hide-details":"",clearable:"","prepend-inner-icon":"ri-search-line",class:"search-field"},null,8,["modelValue"]))])]),_:1})]),item:t(({item:a,props:_})=>{var D;return[o(z,J(_,{class:["tag-list-item",{selected:m.value.includes(((D=C(a))==null?void 0:D.id)||a.value)}]}),{prepend:t(()=>{var F;return[m.value.includes(((F=C(a))==null?void 0:F.id)||a.value)?(r(),h(K,{key:0,icon:"ri-check-line",class:"check-icon",size:"small"})):(r(),p("div",{key:1,class:"color-indicator",style:y({backgroundColor:U(a)||"#bdbdbd"})},null,4))]}),default:t(()=>[o(Z,{class:"item-label"},{default:t(()=>[c(j(O(a)),1)]),_:2},1024)]),_:2},1040,["class"])]}),selection:t(({item:a,index:_})=>[(r(),p("div",{key:_,class:"v-chip--selection"},[s("span",{class:"chip-dot",style:y({backgroundColor:U(a)||"#bdbdbd"}),"aria-hidden":"true"},null,4)]))]),"append-item":t(()=>[s("div",ve,[d.value?(r(),p("div",me,[o(f,{variant:"text","data-activity":"cancel-create-label",onClick:B},{default:t(()=>[...e[11]||(e[11]=[c(" 取消 ",-1)])]),_:1}),o(f,{color:"primary","data-activity":"create-label-submit",onClick:I},{default:t(()=>[...e[12]||(e[12]=[c(" 建立 ",-1)])]),_:1})])):(r(),p("div",pe,[o(f,{variant:"text","data-activity":"create-project-label",onClick:E},{default:t(()=>[...e[9]||(e[9]=[c(" 建立專案標記 (label) ",-1)])]),_:1}),o(f,{variant:"text","data-activity":"manage-project-labels",onClick:$(()=>{},["prevent"])},{default:t(()=>[...e[10]||(e[10]=[c(" 管理專案標記 (label) ",-1)])]),_:1})]))])]),_:1},8,["modelValue","items","no-data-text"])]))}}),be=A(fe,[["__scopeId","data-v-6bd27056"]]),Ve={class:"pa-6"},ke={class:"mt-6"},ge=P({__name:"TagSelectorDemo",setup(T){const x=[{id:"discussion",label:"discussion",color:"#4a90e2"},{id:"documentation",label:"documentation",color:"#f5a623"},{id:"enhancement",label:"enhancement",color:"#7ed321"}],b=v([]);return(L,n)=>(r(),p("div",Ve,[n[2]||(n[2]=s("h2",null,"TagSelector Demo",-1)),n[3]||(n[3]=s("p",null,"這個頁面展示 `TagSelector` 組件的用法與互動。",-1)),o(be,{modelValue:b.value,"onUpdate:modelValue":n[0]||(n[0]=m=>b.value=m),initial:x},null,8,["modelValue"]),s("div",ke,[n[1]||(n[1]=s("h3",null,"Selected",-1)),s("pre",null,j(b.value),1)])]))}}),je=A(ge,[["__scopeId","data-v-237623ff"]]);export{je as default};

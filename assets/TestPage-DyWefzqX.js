import{d as se,ah as Ie,f as Y,o as m,w as u,b as s,A as z,ai as ze,a6 as O,r as v,a as p,N as Ee,aj as he,c as f,ab as T,n as j,F as B,aa as q,V as N,t as W,ak as Te,al as Se,_ as ce,am as ue,an as be,af as le,a9 as ke,h as we,y as De,i as Re,u as Ve,e as Be}from"./index-BkCLNa3_.js";import{V as F,c as H,b as ne,a as K,d as Le}from"./VCard-DAz0PLFl.js";import{V as Pe}from"./VDivider-D-6B5WVn.js";import{a as Ce,V as xe}from"./VRow-b9DSfMmw.js";import{V as Ae}from"./VDialog-DkKL1b_Y.js";import{V as _e}from"./VTextField-BpIiHDZP.js";import{a as We}from"./VDataTable-BZV2BT1b.js";import{V as Me}from"./VTable-C59FmUgr.js";import"./VAvatar-CVSdvW3h.js";import"./VImg-BxpG_5sV.js";/* empty css              */import"./VMenu-CcmEYDID.js";import"./index-RQvULyKO.js";import"./ssrBoot-iYqsdXNF.js";import"./VSlideGroup-DmU8DJWR.js";const Ne=se({__name:"TestToast",setup(g){const _=Ie(),i=(h,r)=>{_.show(h,r)};return(h,r)=>(m(),Y(F,{class:"mx-auto my-4"},{default:u(()=>[s(ne,null,{default:u(()=>[s(H,{class:"text-h4 font-weight-bold"},{default:u(()=>r[2]||(r[2]=[z(" Test Page ")])),_:1})]),_:1}),s(Pe),s(K,null,{default:u(()=>[s(Ce,null,{default:u(()=>[s(xe,{cols:"12"},{default:u(()=>[s(ze,{color:"info",variant:"tonal",border:"start"},{default:u(()=>r[3]||(r[3]=[z(" Toast Test ")])),_:1})]),_:1})]),_:1}),s(Ce,null,{default:u(()=>[s(xe,{cols:"12",class:"d-flex gap-4"},{default:u(()=>[s(O,{color:"success",variant:"elevated",onClick:r[0]||(r[0]=k=>i("success","success"))},{default:u(()=>r[4]||(r[4]=[z(" Success ")])),_:1}),s(O,{color:"error",variant:"elevated",onClick:r[1]||(r[1]=k=>i("error","error"))},{default:u(()=>r[5]||(r[5]=[z(" Error ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Ue={__name:"TestDeleteConfirm",emits:["confirmDelete"],setup(g,{emit:_}){const i=_,h=v(!1),r=()=>{i("confirmDelete"),console.log("Deleted Succeefully"),h.value=!1};return(k,y)=>(m(),Y(Ae,{modelValue:h.value,"onUpdate:modelValue":y[1]||(y[1]=w=>h.value=w),"max-width":"450"},{activator:u(({props:w})=>[s(O,Ee({color:"error"},w),{default:u(()=>y[2]||(y[2]=[z(" Delete ")])),_:2},1040)]),default:u(()=>[s(F,null,{default:u(()=>[s(H,{class:"headline"},{default:u(()=>y[3]||(y[3]=[z(" Confirm Deletion ")])),_:1}),s(K,null,{default:u(()=>[s(ze,{type:"warning",variant:"tonal"},{default:u(()=>y[4]||(y[4]=[z(" Are you sure you want to delete this item? "),p("br",null,null,-1),z(" This action cannot be undone. ")])),_:1})]),_:1}),s(Le,{class:"justify-end"},{default:u(()=>[s(O,{color:"secondary",variant:"outlined",onClick:y[0]||(y[0]=w=>h.value=!1)},{default:u(()=>y[5]||(y[5]=[z(" Cancel ")])),_:1}),s(O,{color:"error",variant:"elevated",onClick:r},{default:u(()=>y[6]||(y[6]=[z(" Confirm Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},je={class:"file-upload-container"},qe={class:"upload-area"},Fe={key:0,class:"file-list"},Oe=["onClick"],Xe={class:"file-details"},Ge={class:"file-name"},He={class:"file-size"},Ke={class:"file-actions"},Ye={class:"progress-container"},Je=se({__name:"TestFileUplaod",setup(g){const _=v([]),i=v(null),h=v(!1),r=v({}),k=he({}),y=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),w=o=>o.startsWith("image/")?"ri-image-line":o.startsWith("video/")?"ri-video-line":o.startsWith("audio/")?"ri-music-line":o.includes("pdf")?"ri-file-pdf-line":o.includes("word")||o.includes("document")?"ri-file-word-line":o.includes("excel")||o.includes("sheet")?"ri-file-excel-line":o.includes("powerpoint")||o.includes("presentation")?"ri-file-ppt-line":o.includes("zip")||o.includes("compressed")?"ri-file-zip-line":"ri-file-line",S=o=>{if(o===0)return"0 Bytes";const d=1024,D=["Bytes","KB","MB","GB"],I=Math.floor(Math.log(o)/Math.log(d));return`${Number.parseFloat((o/d**I).toFixed(2))} ${D[I]}`},$=o=>{r.value[o.id]=0;const d=setInterval(()=>{r.value[o.id]<100?(r.value[o.id]+=Math.floor(Math.random()*10)+1,r.value[o.id]>100&&(r.value[o.id]=100)):(clearInterval(d),k[o.id]=!0,setTimeout(()=>{k[o.id]=!1},1500))},200)},x=()=>{i.value&&i.value.click()},b=o=>{o&&Array.from(o).forEach(d=>{if(!_.value.some(I=>I.name===d.name&&I.size===d.size)){const I={name:d.name,size:d.size,type:d.type,url:URL.createObjectURL(d),file:d,id:y()};_.value.push(I),$(I)}})},U=o=>{const d=o.target;b(d.files),d&&(d.value="")},C=o=>{o.preventDefault(),h.value=!0},E=o=>{o.preventDefault(),h.value=!0},L=()=>{h.value=!1},X=o=>{var d;o.preventDefault(),h.value=!1,b(((d=o.dataTransfer)==null?void 0:d.files)||null)},G=o=>{const d=document.createElement("a");d.href=o.url,d.download=o.name,document.body.appendChild(d),d.click(),document.body.removeChild(d)},J=o=>{const d=_.value.findIndex(I=>I.id===o);if(d===-1)return;const D=_.value[d];URL.revokeObjectURL(D.url),_.value.splice(d,1),delete r.value[o],delete k[o]};return(o,d)=>(m(),f("div",je,[p("div",qe,[s(O,{variant:"tonal",color:"primary",size:"small","prepend-icon":"ri-upload-line",onClick:x},{default:u(()=>d[0]||(d[0]=[z(" 選擇文件 ")])),_:1}),p("div",{class:j(["dropzone",{"is-dragging":h.value}]),onDragenter:C,onDragover:E,onDragleave:L,onDrop:X},d[1]||(d[1]=[p("span",{class:"text-caption text-medium-emphasis"},"拖放文件至此",-1)]),34)]),p("input",{ref_key:"fileInput",ref:i,type:"file",hidden:"",multiple:"",onChange:U},null,544),_.value.length>0?(m(),f("div",Fe,[(m(!0),f(B,null,q(_.value,D=>(m(),f("div",{key:D.id,class:"file-item"},[p("div",{class:"file-info",onClick:I=>G(D)},[s(N,{icon:w(D.type),size:"small",color:"primary"},null,8,["icon"]),p("div",Xe,[p("div",Ge,W(D.name),1),p("div",He,W(S(D.size)),1)])],8,Oe),p("div",Ke,[p("div",Ye,[r.value[D.id]<100?(m(),Y(Te,{key:0,"model-value":r.value[D.id],size:16,width:2,color:"primary"},null,8,["model-value"])):T("",!0),s(Se,{name:"checkmark-fly"},{default:u(()=>[k[D.id]?(m(),Y(N,{key:0,icon:"ri-check-line",color:"success",size:"small",class:"checkmark-icon"})):T("",!0)]),_:2},1024)]),s(O,{icon:"",variant:"text",color:"error",size:"small",onClick:I=>J(D.id)},{default:u(()=>[s(N,{size:"small",icon:"ri-close-line"})]),_:2},1032,["onClick"])])]))),128))])):T("",!0)]))}}),Qe=ce(Je,[["__scopeId","data-v-2e90444d"]]),Ze={class:"enhanced-data-table"},et=["data-key","data-column-index"],tt={class:"d-flex align-center justify-space-between"},at={class:"d-flex align-center"},lt=["onDragstart","onDragover","onDrop"],nt=["onMousedown"],st=["onDragstart","onDragover","onDrop"],ot=["onClick"],rt={key:0},it={key:1},dt={__name:"EnhancedDataTable",props:{headers:{type:Array,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["update:headers","update:items"],setup(g,{emit:_}){const i=g,h=_,r=v(null),k=v(10),y=he({}),w=v(!1),S=v(null),$=v(0),x=v(0),b=v(null),U=v(0),C=he({itemId:null,key:null,value:null}),E=v([]),L=(e,t)=>C.itemId===e.id&&C.key===t,X=e=>{if(!w.value)return;const t=x.value+(e.clientX-$.value);if(t>=50&&(U.value=t,b.value)){const a=document.querySelector(`th[data-key="${S.value}"]`),n=document.querySelector(".enhanced-data-table table").getBoundingClientRect().left,l=a.getBoundingClientRect().left-n+t;b.value.style.left=`${l}px`,a.style.width=`${t}px`,a.style.minWidth=`${t}px`}},G=()=>{w.value&&(y[S.value]=`${U.value}px`,b.value&&b.value.parentNode&&(b.value.parentNode.removeChild(b.value),b.value=null),w.value=!1,document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",G))},J=(e,t)=>{w.value=!0,S.value=t,$.value=e.clientX;const a=document.querySelector(`th[data-key="${t}"]`);x.value=a?a.offsetWidth:100,U.value=x.value,b.value=document.createElement("div"),b.value.className="resize-preview",b.value.style.height=`${document.querySelector(".enhanced-data-table table").offsetHeight}px`,b.value.style.top=`${a.offsetTop}px`,b.value.style.left=`${a.offsetLeft+a.offsetWidth}px`,document.querySelector(".enhanced-data-table").appendChild(b.value),document.addEventListener("mousemove",X),document.addEventListener("mouseup",G),e.preventDefault()},o=v(null),d=v(null),D=v(null),I=v(null),R=v(null),M=v(null),oe=()=>{d.value=null,I.value=null,o.value=null,D.value=null,R.value=null,document.querySelectorAll("th").forEach(e=>{e.classList.remove("column-dragging","column-dragover","column-dragover-before","column-dragover-after")}),document.querySelectorAll("tr").forEach(e=>{e.classList.remove("row-dragging","row-dragover","row-dragover-before","row-dragover-after")})},me=(e,t)=>{o.value=t,e.dataTransfer.setData("rowIndex",t);const a=e.currentTarget,n=a.getBoundingClientRect(),l=a.cloneNode(!0);l.style.position="absolute",l.style.top="-1000px",l.style.opacity="0.8",l.style.width=`${n.width}px`,document.body.appendChild(l),e.dataTransfer.setDragImage(l,20,20),setTimeout(()=>{document.body.removeChild(l)},0),e.dataTransfer.effectAllowed="move"},ve=(e,t)=>{if(e.preventDefault(),o.value===t)return;D.value=t;const a=e.currentTarget.getBoundingClientRect(),n=e.clientY-a.top;R.value=n<a.height/2?"before":"after"},Q=()=>{},Z=(e,t)=>{const a=Number.parseInt(e.dataTransfer.getData("rowIndex"));if(a===t)return;const n=[...i.items],l=n.splice(a,1)[0];n.splice(t,0,l),h("update:items",n),o.value=null,D.value=null,ke(()=>{})},ee=(e,t)=>{if(!e.target.closest(".drag-handle"))return e.preventDefault(),!1;d.value=t,e.dataTransfer.setData("columnIndex",t.toString());const n=e.currentTarget.closest("th");M.value=n;const l=n.cloneNode(!0);l.style.width=`${n.offsetWidth}px`,l.style.height=`${n.offsetHeight}px`,l.style.background="#f5f5f5",l.style.border="1px solid #ddd",l.style.borderRadius="4px",l.style.opacity="0.8",l.style.position="absolute",l.style.top="-1000px",l.style.left="-1000px",document.body.appendChild(l),e.dataTransfer.setDragImage(l,20,20),setTimeout(()=>{document.body.removeChild(l)},0),n.classList.add("column-dragging"),e.dataTransfer.effectAllowed="move"},fe=(e,t)=>{if(e.preventDefault(),d.value===t||d.value===null)return;I.value=t;const a=e.currentTarget.closest("th"),n=a.getBoundingClientRect(),l=e.clientX-n.left;R.value=l<n.width/2?"before":"after",document.querySelectorAll("th").forEach(c=>{c.classList.remove("column-dragover-before","column-dragover-after")}),a.classList.add(`column-dragover-${R.value}`)},ge=e=>{e.currentTarget.closest("th").classList.remove("column-dragover-before","column-dragover-after")},re=(e,t)=>{e.preventDefault();const a=Number.parseInt(e.dataTransfer.getData("columnIndex"));if(a===t||Number.isNaN(a))return;let n=t;R.value==="after"&&a<t?n+=1:R.value==="before"&&a>t?n-=0:R.value==="after"&&a>t?n+=0:R.value==="before"&&a<t&&(n-=1);const l=[...i.headers],c=l.splice(a,1)[0];n=Math.max(0,Math.min(n,l.length)),l.splice(n,0,c),h("update:headers",l),oe()},te=()=>{oe()},pe=(e,t)=>{event.target.closest(".drag-handle")||event.target.closest(".column-resizer")||["index"].includes(t)||(C.itemId=e.id,C.key=t,C.value=e[t],ke(()=>{const n=document.querySelector(".enhanced-data-table input");n&&n.focus()}))},ie=()=>{if(C.itemId!==null){const e=i.items.map(t=>t.id===C.itemId?{...t,[C.key]:C.value}:t);h("update:items",e),C.itemId=null,C.key=null,C.value=null}},de=()=>{C.itemId=null,C.key=null,C.value=null},ye=e=>{E.value=e};return(e,t)=>(m(),f("div",Ze,[s(We,{ref_key:"dataTable",ref:r,"items-per-page":k.value,"onUpdate:itemsPerPage":t[2]||(t[2]=a=>k.value=a),"sort-by":E.value,"onUpdate:sortBy":[t[3]||(t[3]=a=>E.value=a),ye],headers:g.headers,items:g.items,loading:g.loading,class:"elevation-1"},{headers:u(({columns:a})=>[p("tr",null,[(m(!0),f(B,null,q(a,(n,l)=>(m(),f("th",{key:n.key,"data-key":n.key,"data-column-index":l,style:be({width:y[n.key]||"auto"})},[p("div",tt,[p("span",null,W(n.title),1),p("div",at,[p("div",{class:"drag-handle",draggable:"true",onDragstart:c=>ee(c,l),onDragover:c=>fe(c,l),onDragleave:t[0]||(t[0]=c=>ge(c)),onDragend:te,onDrop:c=>re(c,l)},[s(N,{size:"small",class:"ms-1"},{default:u(()=>t[4]||(t[4]=[z(" ri-draggable ")])),_:1})],40,lt),p("div",{class:"column-resizer",onMousedown:le(c=>J(c,n.key),["stop"])},null,40,nt)])])],12,et))),128))])]),item:u(({item:a,index:n,columns:l})=>[(m(),f("tr",{key:a.id,class:j({"row-dragging":o.value===n,"row-dragover":D.value===n,"row-dragover-before":D.value===n&&R.value==="before","row-dragover-after":D.value===n&&R.value==="after"}),draggable:"true",onDragstart:c=>me(c,n),onDragover:c=>ve(c,n),onDragleave:Q,onDragend:te,onDrop:c=>Z(c,n)},[(m(!0),f(B,null,q(l,c=>(m(),f("td",{key:c.key,class:j({"cell-editable":!["index"].includes(c.key)}),onClick:V=>pe(a,c.key)},[L(a,c.key)?(m(),f("div",rt,[s(_e,{modelValue:C.value,"onUpdate:modelValue":t[1]||(t[1]=V=>C.value=V),density:"compact",variant:"outlined","hide-details":"",autofocus:"",onBlur:ie,onKeyup:[ue(ie,["enter"]),ue(de,["esc"])]},null,8,["modelValue"])])):(m(),f("div",it,[c.key==="index"?(m(),f(B,{key:0},[z(W(n+1),1)],64)):(m(),f(B,{key:1},[z(W(a[c.key]),1)],64))]))],10,ot))),128))],42,st))]),_:1},8,["items-per-page","sort-by","headers","items","loading"])]))}},ut=ce(dt,[["__scopeId","data-v-b3788049"]]),ct={class:"advanced-data-table"},mt={key:0,class:"drag-handle-header",width:"40"},vt={key:1,class:"row-number-header",width:"50"},ft={key:2,class:"expand-header",width:"40"},gt=["width","onDrop","onClick"],pt={class:"column-header-content"},yt=["onDragstart"],ht={class:"column-title"},bt=["onMousedown"],kt=["onDrop"],wt={key:0,class:"drag-handle-cell"},Dt=["onDragstart"],Ct={key:1,class:"row-number"},xt=["onClick"],zt=["onClick"],_t={key:0,class:"expanded-row"},$t=["colspan"],It={class:"default-expanded-content"},Et=se({__name:"AdvanceDataTable",props:{columns:{type:Array,required:!0},items:{type:Array,required:!0},rowNumberVisible:{type:Boolean,default:!0},rowDraggable:{type:Boolean,default:!0},columnDraggable:{type:Boolean,default:!0},columnResizable:{type:Boolean,default:!0},sortable:{type:Boolean,default:!0},expandable:{type:Boolean,default:!1},editableOnClick:{type:Boolean,default:!0},dense:{type:Boolean,default:!1},headerSticky:{type:Boolean,default:!1},multiColumnResize:{type:Boolean,default:!0}},emits:["update:items","row-click","row-edit","row-drag","column-drag","column-resize","sort"],setup(g,{emit:_}){const i=g,h=_,r=v([...i.columns]),k=v([...i.items]),y=v(""),w=v(!1),S=v(new Set),$=v(null),x=v(null),b=v(null),U=v(0),C=v(0),E=v(!1);we(()=>i.items,e=>{k.value=[...e]},{deep:!0}),we(()=>i.columns,e=>{r.value=[...e]},{deep:!0});const L=De(()=>r.value.filter(e=>!e.hidden)),X=De(()=>{let e=[...k.value];return y.value&&(e=e.sort((t,a)=>{const n=t[y.value],l=a[y.value];return typeof n=="string"&&typeof l=="string"?w.value?l.localeCompare(n):n.localeCompare(l):n<l?w.value?1:-1:n>l?w.value?-1:1:0})),e}),G=e=>{i.sortable&&(y.value===e?w.value=!w.value:(y.value=e,w.value=!1),h("sort",{key:e,direction:w.value?"desc":"asc"}))},J=e=>{i.expandable&&(S.value.has(e)?S.value.delete(e):S.value.add(e))},o=e=>S.value.has(e);let d=null;const D=(e,t)=>{i.rowDraggable&&(d=t,e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",String(t))))},I=e=>{i.rowDraggable&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"))},R=(e,t)=>{if(!i.rowDraggable||!d||d===t)return;e.preventDefault();const a=k.value.findIndex(l=>l.id===d),n=k.value.findIndex(l=>l.id===t);if(a>-1&&n>-1){const[l]=k.value.splice(a,1);k.value.splice(n,0,l),h("update:items",k.value),h("row-drag",{draggedId:d,targetId:t,newItems:k.value})}d=null};let M=null;const oe=(e,t)=>{i.columnDraggable&&(M=t,e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t)),e.stopPropagation())},me=e=>{if(!i.columnDraggable||!M)return;e.preventDefault();const t=e.currentTarget;t&&t.classList&&t.classList.add("column-drag-over"),e.dataTransfer&&(e.dataTransfer.dropEffect="move")},ve=(e,t)=>{if(!i.columnDraggable||!M||M===t)return;e.preventDefault(),document.querySelectorAll(".column-drag-over").forEach(l=>{l.classList.remove("column-drag-over")});const a=r.value.findIndex(l=>l.key===M),n=r.value.findIndex(l=>l.key===t);if(a>-1&&n>-1){const[l]=r.value.splice(a,1);r.value.splice(n,0,l),h("column-drag",{draggedKey:M,targetKey:t,newColumns:r.value})}M=null},Q=e=>{var l;if(!b.value)return;e.stopPropagation(),e.preventDefault(),E.value=e.shiftKey;const t=e.clientX-U.value,a=Math.max(50,C.value+t),n=r.value.findIndex(c=>c.key===b.value);if(n>-1){r.value[n].width=a,E.value&&i.multiColumnResize&&L.value.slice(L.value.findIndex(P=>P.key===b.value)+1).forEach(P=>{const A=r.value.findIndex(ae=>ae.key===P.key);if(A>-1&&r.value[A].resizable!==!1){const ae=r.value[A].width||100;r.value[A].width=Math.max(50,ae+t)}});const c=document.getElementById("column-resize-guide");if(c){const V=(l=document.querySelector(".table-wrapper"))==null?void 0:l.getBoundingClientRect();if(V){const P=e.clientX-V.left;c.style.left=`${P}px`,c.style.display="block",c.classList.toggle("multi-column-resize",E.value&&i.multiColumnResize)}}}},Z=()=>{var e;if(b.value){const t=(e=r.value.find(n=>n.key===b.value))==null?void 0:e.width;h("column-resize",{key:b.value,width:t,isMultiResize:E.value&&i.multiColumnResize});const a=document.getElementById("column-resize-guide");a&&(a.style.display="none",a.classList.remove("multi-column-resize")),b.value=null,E.value=!1}document.body.classList.remove("resizing-active"),document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",Z)},ee=(e,t)=>t.formatter?t.formatter(e):e!=null?String(e):"",fe=e=>{const t=document.createElement("div");t.style.position="absolute",t.style.visibility="hidden",t.style.whiteSpace="nowrap",t.style.fontFamily=getComputedStyle(document.body).fontFamily,t.style.fontSize=getComputedStyle(document.body).fontSize,t.style.padding="0 8px",document.body.appendChild(t);let a=0;return e.forEach(n=>{t.textContent=n;const l=t.offsetWidth;a=Math.max(a,l)}),document.body.removeChild(t),a+20},ge=e=>{const t=r.value.find(A=>A.key===e);if(!t)return;const a=[];a.push(t.title),k.value.forEach(A=>{const ae=A[e],$e=ee(ae,t);a.push($e)});const n=fe(a),l=t.minWidth||50,c=t.maxWidth||500,V=Math.max(l,Math.min(c,n)),P=r.value.findIndex(A=>A.key===e);P>-1&&(r.value[P].width=V,h("column-resize",{key:e,width:V}))},re=e=>{if(e.key==="Shift"){E.value=!0;const t=document.getElementById("column-resize-guide");t&&i.multiColumnResize&&t.classList.add("multi-column-resize")}},te=e=>{if(e.key==="Shift"){E.value=!1;const t=document.getElementById("column-resize-guide");t&&t.classList.remove("multi-column-resize")}},pe=(e,t,a)=>{var c,V;if(!i.columnResizable)return;if(e.stopPropagation(),e.preventDefault(),E.value=e.shiftKey,e.detail===2){ge(t);return}document.body.classList.add("resizing-active"),b.value=t,U.value=e.clientX,C.value=a;let n=document.getElementById("column-resize-guide");n||(n=document.createElement("div"),n.id="column-resize-guide",n.className="column-resize-guide",(c=document.querySelector(".table-wrapper"))==null||c.appendChild(n));const l=(V=document.querySelector(".table-wrapper"))==null?void 0:V.getBoundingClientRect();if(l){const P=e.clientX-l.left;n.style.left=`${P}px`,n.style.display="block",n.style.height=`${l.height}px`,n.classList.toggle("multi-column-resize",E.value&&i.multiColumnResize)}document.addEventListener("mousemove",Q),document.addEventListener("mouseup",Z),document.addEventListener("keydown",re),document.addEventListener("keyup",te)},ie=(e,t,a)=>{var n;i.editableOnClick&&((n=r.value.find(l=>l.key===t))!=null&&n.editable)&&($.value={rowId:e,key:t},x.value=a),h("row-click",{rowId:e,key:t,value:a})},de=(e,t,a)=>{const n=k.value.findIndex(l=>l.id===e);n>-1&&(k.value[n][t]=a,h("update:items",k.value),h("row-edit",{rowId:e,key:t,value:a,row:k.value[n]})),$.value=null},ye=()=>{$.value=null};return Re(()=>{document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",Z),document.removeEventListener("keydown",re),document.removeEventListener("keyup",te)}),(e,t)=>(m(),f("div",ct,[s(F,null,{default:u(()=>[p("div",{class:j(["table-wrapper",{"sticky-header":g.headerSticky}])},[s(Me,{density:g.dense?"compact":"default","fixed-header":"",class:"fixed-width-table"},{default:u(()=>[p("thead",null,[p("tr",null,[g.rowDraggable?(m(),f("th",mt,[s(N,{icon:"ri-drag-move-line",size:"small"})])):T("",!0),g.rowNumberVisible?(m(),f("th",vt," # ")):T("",!0),g.expandable?(m(),f("th",ft)):T("",!0),(m(!0),f(B,null,q(L.value,a=>(m(),f("th",{key:a.key,width:a.width?`${a.width}px`:"auto",style:be({width:a.width?`${a.width}px`:"auto",minWidth:a.width?`${a.width}px`:"100px"}),class:j(["column-header",{sortable:a.sortable&&g.sortable,sorted:y.value===a.key,desc:y.value===a.key&&w.value,resizable:g.columnResizable}]),onDragover:t[1]||(t[1]=le(n=>g.columnDraggable&&me(n),["prevent"])),onDrop:le(n=>g.columnDraggable&&ve(n,a.key),["prevent"]),onClick:n=>a.sortable&&g.sortable?G(a.key):null},[p("div",pt,[a.draggable&&g.columnDraggable?(m(),f("div",{key:0,class:"column-drag-handle",draggable:"true",onDragstart:n=>oe(n,a.key),onClick:t[0]||(t[0]=le(()=>{},["stop"]))},[s(N,{icon:"ri-drag-move-2-line",size:"small"})],40,yt)):T("",!0),p("div",ht,W(a.title),1),a.sortable&&g.sortable&&y.value===a.key?(m(),Y(N,{key:1,icon:w.value?"ri-arrow-down-line":"ri-arrow-up-line",size:"small",class:"sort-icon"},null,8,["icon"])):T("",!0)]),g.columnResizable?(m(),f("div",{key:0,class:"resize-handle",onMousedown:le(n=>pe(n,a.key,a.width||100),["stop"])},t[3]||(t[3]=[p("div",{class:"resize-handle-indicator"},null,-1)]),40,bt)):T("",!0)],46,gt))),128))])]),p("tbody",null,[(m(!0),f(B,null,q(X.value,(a,n)=>(m(),f(B,{key:a.id},[p("tr",{class:j(["data-row",{expanded:o(a.id),"row-dragging":Ve(d)===a.id}]),onDragover:I,onDrop:l=>R(l,a.id)},[g.rowDraggable?(m(),f("td",wt,[p("div",{class:"drag-handle",draggable:"true",onDragstart:l=>D(l,a.id)},[s(N,{icon:"ri-drag-move-line",size:"small"})],40,Dt)])):T("",!0),g.rowNumberVisible?(m(),f("td",Ct,W(n+1),1)):T("",!0),g.expandable?(m(),f("td",{key:2,class:"expand-cell",onClick:l=>J(a.id)},[s(N,{icon:o(a.id)?"ri-arrow-up-s-line":"ri-arrow-down-s-line",size:"small"},null,8,["icon"])],8,xt)):T("",!0),(m(!0),f(B,null,q(L.value,l=>(m(),f("td",{key:`${a.id}-${l.key}`,class:j(["data-cell",{editable:l.editable&&g.editableOnClick}]),style:be({width:l.width?`${l.width}px`:"auto",minWidth:l.width?`${l.width}px`:"100px"}),onClick:c=>ie(a.id,l.key,a[l.key])},[$.value&&$.value.rowId===a.id&&$.value.key===l.key?(m(),Y(_e,{key:0,modelValue:x.value,"onUpdate:modelValue":t[2]||(t[2]=c=>x.value=c),variant:"outlined",density:"compact","hide-details":"",autofocus:"",onKeyup:[ue(c=>de(a.id,l.key,x.value),["enter"]),ue(ye,["esc"])],onBlur:c=>de(a.id,l.key,x.value)},null,8,["modelValue","onKeyup","onBlur"])):(m(),f(B,{key:1},[z(W(ee(a[l.key],l)),1)],64))],14,zt))),128))],42,kt),g.expandable&&o(a.id)?(m(),f("tr",_t,[p("td",{colspan:L.value.length+(g.rowNumberVisible?1:0)+(g.expandable?1:0)+(g.rowDraggable?1:0),class:"expanded-content"},[Be(e.$slots,"expanded-item",{item:a},()=>[p("div",It,[(m(!0),f(B,null,q(L.value,l=>(m(),f("div",{key:`expanded-${a.id}-${l.key}`,class:"expanded-field"},[p("strong",null,W(l.title)+":",1),z(" "+W(ee(a[l.key],l)),1)]))),128))])],!0)],8,$t)])):T("",!0)],64))),128))])]),_:3},8,["density"])],2)]),_:3})]))}}),Tt=ce(Et,[["__scopeId","data-v-4a2da72d"]]),St={class:"pa-4"},Rt=se({__name:"TableDemo",setup(g){const _=v([{title:"ID",key:"id",sortable:!0},{title:"Project Name",key:"name",sortable:!0},{title:"Description",key:"description",sortable:!1},{title:"Status",key:"status",sortable:!0},{title:"Created Date",key:"createdAt",sortable:!0},{title:"Priority",key:"priority",sortable:!0},{title:"Budget (USD)",key:"budget",sortable:!0},{title:"Progress (%)",key:"progress",sortable:!0},{title:"Active",key:"active",sortable:!0}]),i=v([{id:1,name:"Project Alpha",description:"Description of Project Alpha",status:"In Progress",createdAt:"2024-02-01",priority:"High",budget:5e4,progress:60,active:!0},{id:2,name:"Project Beta",description:"Description of Project Beta",status:"Completed",createdAt:"2024-01-15",priority:"Medium",budget:75e3,progress:100,active:!1},{id:3,name:"Project Gamma",description:"Description of Project Gamma",status:"Pending",createdAt:"2024-03-01",priority:"Low",budget:3e4,progress:20,active:!0},{id:4,name:"Project Delta",description:"Description of Project Delta",status:"In Progress",createdAt:"2024-02-20",priority:"High",budget:9e4,progress:45,active:!0},{id:5,name:"Project Epsilon",description:"Description of Project Epsilon",status:"Completed",createdAt:"2024-01-05",priority:"Medium",budget:6e4,progress:100,active:!1}]),h=v([{title:"ID",key:"id",sortable:!1,width:80},{title:"项目名称",key:"name",sortable:!1,editable:!0},{title:"描述",key:"description",sortable:!1,editable:!0},{title:"状态",key:"status",sortable:!1,editable:!0},{title:"创建日期",key:"createdAt",sortable:!1},{title:"优先级",key:"priority",sortable:!1,editable:!0},{title:"预算 (USD)",key:"budget",sortable:!1,editable:!0},{title:"进度 (%)",key:"progress",sortable:!1,editable:!0},{title:"活跃状态",key:"active",sortable:!1,editable:!0}]),r=v([...i.value]),k=v(!1),y=$=>{console.log("排序信息:",$)},w=$=>{console.log("行点击:",$)},S=$=>{console.log("单元格编辑:",$)};return($,x)=>(m(),f("div",St,[x[2]||(x[2]=p("h2",{class:"mb-4"}," EnhancedDataTable 示例 ",-1)),s(ut,{headers:_.value,"onUpdate:headers":x[0]||(x[0]=b=>_.value=b),items:i.value,"onUpdate:items":x[1]||(x[1]=b=>i.value=b),loading:k.value},null,8,["headers","items","loading"]),x[3]||(x[3]=p("h2",{class:"mb-4 mt-8"}," AdvanceDataTable 示例 ",-1)),s(Tt,{columns:h.value,items:r.value,"row-number-visible":"","row-draggable":"","column-draggable":"","column-resizable":"",sortable:"",expandable:"","editable-on-click":"",dense:$.dense,"header-sticky":"",onSort:y,onRowClick:w,onRowEdit:S},null,8,["columns","items","dense"])]))}}),Vt=ce(Rt,[["__scopeId","data-v-79294bd5"]]),Kt=se({__name:"TestPage",setup(g){return(_,i)=>(m(),f(B,null,[s(Ne),s(F,{class:"mt-4"},{default:u(()=>[s(ne,null,{default:u(()=>[s(H,null,{default:u(()=>i[1]||(i[1]=[z(" Test Delete Confirm ")])),_:1})]),_:1}),s(K,null,{default:u(()=>[s(Ue,{onConfirmDelete:i[0]||(i[0]=()=>console.log("123"))})]),_:1})]),_:1}),s(F,{class:"mt-4"},{default:u(()=>[s(ne,null,{default:u(()=>[s(H,null,{default:u(()=>i[2]||(i[2]=[z(" Test DateInput ")])),_:1})]),_:1}),s(K)]),_:1}),s(F,{class:"mt-4"},{default:u(()=>[s(ne,null,{default:u(()=>[s(H,null,{default:u(()=>i[3]||(i[3]=[z(" Test File Upload ")])),_:1})]),_:1}),s(K,null,{default:u(()=>[s(Qe)]),_:1})]),_:1}),s(F,{class:"mt-4"},{default:u(()=>[s(ne,null,{default:u(()=>[s(H,null,{default:u(()=>i[4]||(i[4]=[z(" Test Data Table ")])),_:1})]),_:1}),s(K,null,{default:u(()=>[s(Vt)]),_:1})]),_:1})],64))}});export{Kt as default};

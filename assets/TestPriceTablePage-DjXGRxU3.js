import{p as C}from"./mockService-DQlG6rXj.js";import{u as T}from"./useApi-D0WnRYov.js";import{V as w,a as N,c as L,b as P}from"./VCard-Bo8UnrY0.js";import{V as B,a as E}from"./VRow-y4cLhuu7.js";import{V as M}from"./VAutocomplete-Bv9DTkuc.js";import{V as R}from"./VDivider-C2eX1P_t.js";import{G as I,H as A,I as H,x as F,aC as O,aD as j,aE as G,K as U,B as D,ap as $,N as K,b as n,P as Y,R as q,aF as z,aG as J,d as Q,l as W,i as X,o as b,w as o,C as h,u,a as k,t as p,s as Z,c as y}from"./index-BFQrjWEt.js";import{V as ee}from"./VDataTable-DZpwKLM7.js";import"./VAvatar-DUOVUhk-.js";import"./VImg-CeY41Y31.js";/* empty css              */import"./VSelect-BJnTqPQw.js";import"./VTextField-DSt3uY9J.js";import"./index-1Jrqu1Jx.js";import"./VMenu-C5BeancQ.js";import"./ssrBoot-DO_4U4Hx.js";import"./VSlideGroup-b9wzHkwm.js";import"./VTable-BvWckMNL.js";function x(e,r="yyyy-MM-dd"){if(!e)return"";const a=typeof e=="string"?new Date(e):e;if(Number.isNaN(a.getTime()))return console.warn("Invalid date provided"),"";const i=t=>t.toString().padStart(2,"0"),m={yyyy:t=>t.getFullYear().toString(),MM:t=>i(t.getMonth()+1),dd:t=>i(t.getDate()),HH:t=>i(t.getHours()),mm:t=>i(t.getMinutes()),ss:t=>i(t.getSeconds()),fff:t=>i(t.getMilliseconds()),dddd:t=>t.toLocaleString("en-US",{weekday:"long"}),ddd:t=>t.toLocaleString("en-US",{weekday:"short"})};let d=r;for(const[t,c]of Object.entries(m)){const s=new RegExp(t,"g");d=d.replace(s,()=>c(a))}return d}const te={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function ae(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[r])}function S(e){const[r,a]=e.split("@");return Array.from({length:a}).map(()=>g(r))}function g(e){let r=[];if(!e)return r;const a=te[e];if(e!==a){if(e.includes(","))return _(e);if(e.includes("@"))return S(e);a.includes(",")?r=_(a):a.includes("@")?r=S(a):a&&r.push(g(a))}return[ae(e,r)]}function _(e){return e.replace(/\s/g,"").split(",").map(g)}const re=A({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...J(),...z(),...q()},"VSkeletonLoader"),oe=I()({name:"VSkeletonLoader",props:re(),setup(e,r){let{slots:a}=r;const{backgroundColorClasses:i,backgroundColorStyles:m}=H(F(e,"color")),{dimensionStyles:d}=O(e),{elevationClasses:t}=j(e),{themeClasses:c}=G(e),{t:s}=U(),f=D(()=>g($(e.type).join(",")));return K(()=>{var v;const l=!a.default||e.loading,V=e.boilerplate||!l?{}:{ariaLive:"polite",ariaLabel:s(e.loadingText),role:"alert"};return n("div",Y({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},c.value,i.value,t.value],style:[m.value,l?d.value:{}]},V),[l?f.value:(v=a.default)==null?void 0:v.call(a)])}),{}}}),ne={key:0,class:"text-center pa-4 text-error"},ie={key:1,class:"text-center pa-4"},Ve=Q({__name:"TestPriceTablePage",setup(e){const r=[{title:"Order Number",key:"orderNumber",sortable:!1},{title:"Machine ID",key:"machineId",sortable:!1},{title:"Currency",key:"currency",sortable:!1},{title:"Contract Start Date",key:"contractStartDate",sortable:!1},{title:"Contract End Date",key:"contractEndDate",sortable:!1}],{data:a,loading:i,error:m,execute:d}=T(C.getPriceTables,{initialData:[]}),t=D(()=>{var c;return((c=a.value)==null?void 0:c.map(s=>({title:s.orderNumber,value:s.id})))??[]});return W(()=>{d()}),(c,s)=>{const f=Z("RouterLink");return b(),X(w,null,{default:o(()=>[n(L,null,{default:o(()=>[n(N,null,{default:o(()=>s[0]||(s[0]=[h("Price Table")])),_:1})]),_:1}),n(P,null,{default:o(()=>[n(B,null,{default:o(()=>[n(E,{cols:"12"},{default:o(()=>[n(M,{items:t.value,loading:u(i),label:"Select Order Number","item-title":"title","item-value":"value",clearable:""},null,8,["items","loading"])]),_:1})]),_:1})]),_:1}),n(R),n(ee,{headers:r,items:u(a)??[],loading:u(i),"item-value":"id"},{loading:o(()=>[n(oe,{type:"table-row@5"})]),"no-data":o(()=>[u(m)?(b(),y("div",ne," Error loading data: "+p(u(m)),1)):(b(),y("div",ie," No data available. "))]),"item.orderNumber":o(({item:l})=>[n(f,{to:{name:"TestPriceTableDetail",params:{id:l.id}},class:"text-primary text-decoration-none"},{default:o(()=>[h(p(l.orderNumber),1)]),_:2},1032,["to"])]),"item.contractStartDate":o(({item:l})=>[k("span",null,p(u(x)(l.contractStartDate)),1)]),"item.contractEndDate":o(({item:l})=>[k("span",null,p(u(x)(l.contractEndDate)),1)]),_:1},8,["items","loading"])]),_:1})}}});export{Ve as default};

import{d as P,A as N,i as _,o as u,w as i,b as t,a as l,y,V as h,t as d,c as k,B as A,F as B,aa as V,Q as U,_ as j,G as J,H as q,am as re,I as Q,J as $,K as ce,an as de,O as G,a8 as ue,ao as X,ap as ee,W as te,Y as K,Z as ie,aq as me,ar as ve,r as O,k as fe,as as W,U as ae,at as ge,au as ye,a5 as he,av as pe,a6 as ke,S as be,a7 as _e,aw as xe,f as ne,e as Ce,q as we}from"./index-ChDAYuUB.js";import{V as x,b as C}from"./VCard-BYMxHbVl.js";import{V as H}from"./VChip-DK3hNyGy.js";import{V as F}from"./VMenu-CAs1j-a7.js";import{V as M,b as D,c as S,d as E}from"./VList-y6edh2cD.js";import{V as R}from"./VAvatar-CjYd5skV.js";import{V as le}from"./VImg-DySTkEGf.js";import{V as oe}from"./VDivider-Ckh-uiLE.js";import{V as $e}from"./VTextarea-BxsLD8qV.js";import{V as Te}from"./VContainer-BDS7C8sC.js";import{a as Y,V as Ve}from"./VRow-CC0bOe-l.js";import"./index-CrQva3e1.js";import"./VSlideGroup-CStI3WMS.js";import"./ssrBoot-BA_Fz9g8.js";import"./VField-CPWJK7if.js";/* empty css              */const De={class:"d-flex align-center justify-space-between flex-wrap gap-4 mb-4"},Se={class:"d-flex align-center gap-2"},ze={class:"d-flex align-center gap-2"},Ie={class:"d-flex align-start gap-3"},Le={class:"flex-grow-1"},Ae={class:"text-h4 font-weight-bold mb-1"},Be={class:"text-body-2 text-medium-emphasis"},Pe=P({__name:"TicketDetailHeader",props:{ticket:{}},emits:["update:status"],setup(e,{emit:n}){const r=e,m=n,f={open:{color:"success",icon:"ri-checkbox-blank-circle-line",text:"Open"},in_progress:{color:"info",icon:"ri-loader-4-line",text:"In Progress"},resolved:{color:"warning",icon:"ri-check-line",text:"Resolved"},closed:{color:"secondary",icon:"ri-close-circle-line",text:"Closed"}},c=N(()=>f[r.ticket.status]),o={low:{color:"grey",icon:"ri-arrow-down-line",text:"Low"},medium:{color:"info",icon:"ri-subtract-line",text:"Medium"},high:{color:"warning",icon:"ri-arrow-up-line",text:"High"},critical:{color:"error",icon:"ri-error-warning-line",text:"Critical"}},a=N(()=>o[r.ticket.priority]);function v(I){m("update:status",I)}return(I,b)=>(u(),_(x,{"data-activity":"ticket-header-card"},{default:i(()=>[t(C,null,{default:i(()=>[l("div",De,[l("div",Se,[t(H,{color:c.value.color,size:"small","data-activity":"ticket-status-chip"},{default:i(()=>[t(h,{icon:c.value.icon,size:"16",start:""},null,8,["icon"]),y(" "+d(c.value.text),1)]),_:1},8,["color"]),t(H,{color:a.value.color,size:"small",variant:"outlined","data-activity":"ticket-priority-chip"},{default:i(()=>[t(h,{icon:a.value.icon,size:"16",start:""},null,8,["icon"]),y(" "+d(a.value.text),1)]),_:1},8,["color"])]),l("div",ze,[t(F,null,{activator:i(({props:T})=>[t(V,U(T,{variant:"outlined",color:"secondary",size:"small","data-activity":"ticket-status-menu-btn"}),{default:i(()=>[b[0]||(b[0]=y(" Change Status ",-1)),t(h,{icon:"ri-arrow-down-s-line",end:""})]),_:1},16)]),default:i(()=>[t(M,{"data-activity":"ticket-status-menu-list"},{default:i(()=>[(u(),k(B,null,A(f,(T,z)=>t(D,{key:z,value:z,onClick:w=>v(z),"data-activity":`ticket-status-option-${z}`},{prepend:i(()=>[t(h,{icon:T.icon,color:T.color},null,8,["icon","color"])]),default:i(()=>[t(S,null,{default:i(()=>[y(d(T.text),1)]),_:2},1024)]),_:2},1032,["value","onClick","data-activity"])),64))]),_:1})]),_:1}),t(F,null,{activator:i(({props:T})=>[t(V,U(T,{icon:"",variant:"text",size:"small","data-activity":"ticket-more-actions-btn"}),{default:i(()=>[t(h,{icon:"ri-more-2-fill"})]),_:1},16)]),default:i(()=>[t(M,{"data-activity":"ticket-more-actions-list"},{default:i(()=>[t(D,{value:"edit","data-activity":"ticket-edit-action"},{prepend:i(()=>[t(h,{icon:"ri-edit-line"})]),default:i(()=>[t(S,null,{default:i(()=>[...b[1]||(b[1]=[y("Edit",-1)])]),_:1})]),_:1}),t(D,{value:"copy-link","data-activity":"ticket-copy-link-action"},{prepend:i(()=>[t(h,{icon:"ri-link"})]),default:i(()=>[t(S,null,{default:i(()=>[...b[2]||(b[2]=[y("Copy Link",-1)])]),_:1})]),_:1}),t(D,{value:"delete","data-activity":"ticket-delete-action"},{prepend:i(()=>[t(h,{icon:"ri-delete-bin-line",color:"error"})]),default:i(()=>[t(S,{class:"text-error"},{default:i(()=>[...b[3]||(b[3]=[y(" Delete ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])]),l("div",Ie,[t(h,{icon:"ri-file-text-line",size:"24",color:"primary"}),l("div",Le,[l("h1",Ae,d(e.ticket.title),1),l("div",Be,d(e.ticket.reference)+" opened on "+d(new Date(e.ticket.createdAt).toLocaleDateString()),1)])])]),_:1})]),_:1}))}}),Ue=j(Pe,[["__scopeId","data-v-1d287983"]]),Fe={class:"d-flex align-center gap-3 mb-4"},Me={key:1,class:"text-sm"},Oe={class:"font-weight-semibold"},je={class:"text-body-2 text-medium-emphasis"},He=["innerHTML"];function Ne(e){let n=e;return n=n.replace(/^### (.*$)/gim,"<h3>$1</h3>"),n=n.replace(/^## (.*$)/gim,"<h2>$1</h2>"),n=n.replace(/^# (.*$)/gim,"<h1>$1</h1>"),n=n.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),n=n.replace(/\*(.*?)\*/g,"<em>$1</em>"),n=n.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank">$1</a>'),n=n.replace(/```(.*?)```/gs,"<pre><code>$1</code></pre>"),n=n.replace(/`([^`]+)`/g,"<code>$1</code>"),n=n.replace(/^\- (.*$)/gim,"<li>$1</li>"),n=n.replace(/(<li>.*<\/li>)/s,"<ul>$1</ul>"),n=n.replace(/\- \[ \] (.*$)/gim,'<div class="checkbox-item"><input type="checkbox" disabled> $1</div>'),n=n.replace(/\- \[x\] (.*$)/gim,'<div class="checkbox-item"><input type="checkbox" checked disabled> $1</div>'),n=n.replace(/\n\n/g,"</p><p>"),n="<p>"+n+"</p>",n}const Re=P({__name:"TicketDescription",props:{description:{},reporter:{}},setup(e){return(n,r)=>(u(),_(x,{"data-activity":"ticket-description-card"},{default:i(()=>[t(C,null,{default:i(()=>[l("div",Fe,[t(R,{color:e.reporter.avatar?void 0:"primary",size:"40"},{default:i(()=>[e.reporter.avatar?(u(),_(le,{key:0,src:e.reporter.avatar,alt:e.reporter.name},null,8,["src","alt"])):(u(),k("span",Me,d(e.reporter.name.charAt(0).toUpperCase()),1))]),_:1},8,["color"]),l("div",null,[l("div",Oe,d(e.reporter.name),1),l("div",je,d(e.reporter.email),1)])]),t(oe,{class:"mb-4"}),l("div",{class:"ticket-description-content",innerHTML:Ne(e.description)},null,8,He)]),_:1})]),_:1}))}}),We=j(Re,[["__scopeId","data-v-ad8d0cbf"]]),Ze=q({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:ie,iconColor:String,lineColor:String,...K(),...te(),...ee(),...X()},"VTimelineDivider"),Ee=J()({name:"VTimelineDivider",props:Ze(),setup(e,n){let{slots:r}=n;const{sizeClasses:m,sizeStyles:f}=re(e,"v-timeline-divider__dot"),{backgroundColorStyles:c,backgroundColorClasses:o}=Q($(e,"dotColor")),{roundedClasses:a}=ce(e,"v-timeline-divider__dot"),{elevationClasses:v}=de(e),{backgroundColorClasses:I,backgroundColorStyles:b}=Q($(e,"lineColor"));return G(()=>t("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[t("div",{class:["v-timeline-divider__before",I.value],style:b.value},null),!e.hideDot&&t("div",{key:"dot",class:["v-timeline-divider__dot",v.value,a.value,m.value],style:f.value},[t("div",{class:["v-timeline-divider__inner-dot",o.value,a.value],style:c.value},[r.default?t(ue,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},r.default):t(h,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),t("div",{class:["v-timeline-divider__after",I.value],style:b.value},null)])),{}}}),se=q({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:ie,iconColor:String,lineInset:[Number,String],...K(),...ge(),...X(),...te(),...ee(),...ae()},"VTimelineItem"),Je=J()({name:"VTimelineItem",props:se(),setup(e,n){let{slots:r}=n;const{dimensionStyles:m}=me(e),f=ve(0),c=O();return fe(c,o=>{var a;o&&(f.value=((a=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:a.getBoundingClientRect().width)??0)},{flush:"post"}),G(()=>{var o,a;return t("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":W(f.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${W(e.lineInset)})`:W(0)},e.style]},[t("div",{class:"v-timeline-item__body",style:m.value},[(o=r.default)==null?void 0:o.call(r)]),t(Ee,{ref:c,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:r.icon}),e.density!=="compact"&&t("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((a=r.opposite)==null?void 0:a.call(r))])])}),{}}}),qe=q({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...xe(se({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...K(),..._e(),...ae(),...be()},"VTimeline"),Ge=J()({name:"VTimeline",props:qe(),setup(e,n){let{slots:r}=n;const{themeClasses:m}=ye(e),{densityClasses:f}=he(e),{rtlClasses:c}=pe();ke({VTimelineDivider:{lineColor:$(e,"lineColor")},VTimelineItem:{density:$(e,"density"),dotColor:$(e,"dotColor"),fillDot:$(e,"fillDot"),hideOpposite:$(e,"hideOpposite"),iconColor:$(e,"iconColor"),lineColor:$(e,"lineColor"),lineInset:$(e,"lineInset"),size:$(e,"size")}});const o=N(()=>{const v=e.side?e.side:e.density!=="default"?"end":null;return v&&`v-timeline--side-${v}`}),a=N(()=>{const v=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return v;case"start":return v[0];case"end":return v[1];default:return null}});return G(()=>t(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,a.value,{"v-timeline--inset-line":!!e.lineInset},m.value,f.value,o.value,c.value,e.class],style:[{"--v-timeline-line-thickness":W(e.lineThickness)},e.style]},r)),{}}}),Ke={class:"timeline-content"},Qe={class:"d-flex align-center gap-2 mb-2"},Ye={key:1,class:"text-xs"},Xe={class:"font-weight-semibold"},et={class:"text-body-2 text-medium-emphasis"},tt=["innerHTML"],it={key:2,class:"text-body-2"},at=P({__name:"TicketTimeline",props:{timeline:{}},setup(e){function n(c){const o=new Date(c),v=Math.floor((new Date().getTime()-o.getTime())/1e3);return v<60?"just now":v<3600?`${Math.floor(v/60)} minutes ago`:v<86400?`${Math.floor(v/3600)} hours ago`:v<604800?`${Math.floor(v/86400)} days ago`:o.toLocaleDateString()}function r(c){return{created:"ri-checkbox-blank-circle-fill",comment:"ri-chat-3-line",status_change:"ri-checkbox-circle-line",assignee_change:"ri-user-line",label_change:"ri-price-tag-3-line"}[c]}function m(c){return{created:"success",comment:"primary",status_change:"info",assignee_change:"warning",label_change:"secondary"}[c]}function f(c){if(!c.changes)return"";const{field:o,oldValue:a,newValue:v}=c.changes;return o==="status"?`changed status from <strong>${a||"none"}</strong> to <strong>${v}</strong>`:o==="assignee"?`assigned to <strong>${v}</strong>`:o==="labels"?a?`changed labels from <strong>${a}</strong> to <strong>${v}</strong>`:`added labels: <strong>${v}</strong>`:`changed ${o}`}return(c,o)=>(u(),_(x,{"data-activity":"timeline-card"},{default:i(()=>[t(C,null,{default:i(()=>[o[0]||(o[0]=l("h3",{class:"text-h6 mb-4"}," Activity Timeline ",-1)),t(Ge,{align:"start",side:"end","truncate-line":"both",density:"compact"},{default:i(()=>[(u(!0),k(B,null,A(e.timeline,a=>(u(),_(Je,{key:a.id,"dot-color":m(a.type),size:"small","data-activity":`timeline-item-${a.type}-${a.id}`},{icon:i(()=>[t(h,{icon:r(a.type),size:"16"},null,8,["icon"])]),default:i(()=>[l("div",Ke,[l("div",Qe,[t(R,{color:a.user.avatar?void 0:"secondary",size:"24"},{default:i(()=>[a.user.avatar?(u(),_(le,{key:0,src:a.user.avatar,alt:a.user.name},null,8,["src","alt"])):(u(),k("span",Ye,d(a.user.name.charAt(0).toUpperCase()),1))]),_:2},1032,["color"]),l("span",Xe,d(a.user.name),1),l("span",et,d(n(a.timestamp)),1)]),a.type==="comment"&&a.content?(u(),_(x,{key:0,variant:"tonal",class:"mt-2"},{default:i(()=>[t(C,{class:"text-body-2"},{default:i(()=>[y(d(a.content),1)]),_:2},1024)]),_:2},1024)):a.changes?(u(),k("div",{key:1,class:"text-body-2",innerHTML:f(a)},null,8,tt)):a.type==="created"?(u(),k("div",it," created this ticket ")):ne("",!0)])]),_:2},1032,["dot-color","data-activity"]))),128))]),_:1})]),_:1})]),_:1}))}}),nt=j(at,[["__scopeId","data-v-bf99d5e3"]]),lt={class:"d-flex align-start gap-3"},ot={class:"flex-grow-1"},st={class:"d-flex justify-end mt-3 gap-2"},rt=P({__name:"TicketCommentBox",emits:["add-comment"],setup(e,{emit:n}){const r=n,m=O(""),f=O(!1);async function c(){if(m.value.trim()){f.value=!0;try{r("add-comment",m.value),m.value=""}finally{f.value=!1}}}return(o,a)=>(u(),_(x,{"data-activity":"comment-box-card"},{default:i(()=>[t(C,null,{default:i(()=>[l("div",lt,[t(R,{color:"primary",size:"40"},{default:i(()=>[...a[2]||(a[2]=[l("span",{class:"text-sm"},"U",-1)])]),_:1}),l("div",ot,[t($e,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=v=>m.value=v),placeholder:"Write a comment...",rows:"4",variant:"outlined","hide-details":"","data-activity":"comment-textarea"},null,8,["modelValue"]),l("div",st,[t(V,{variant:"text",size:"small",onClick:a[1]||(a[1]=v=>m.value=""),disabled:!m.value.trim()||f.value,"data-activity":"comment-cancel-btn"},{default:i(()=>[...a[3]||(a[3]=[y(" Cancel ",-1)])]),_:1},8,["disabled"]),t(V,{color:"primary",size:"small",onClick:c,disabled:!m.value.trim()||f.value,loading:f.value,"data-activity":"comment-submit-btn"},{default:i(()=>[...a[4]||(a[4]=[y(" Comment ",-1)])]),_:1},8,["disabled","loading"])])])])]),_:1})]),_:1}))}}),ct={class:"ticket-main-content"},dt=P({__name:"TicketDetailMainContent",props:{ticket:{}},emits:["add-comment"],setup(e,{emit:n}){const r=n;function m(f){r("add-comment",f)}return(f,c)=>(u(),k("div",ct,[t(We,{description:e.ticket.description,reporter:e.ticket.reporter,class:"mb-6","data-activity":"ticket-description"},null,8,["description","reporter"]),t(rt,{class:"mb-6",onAddComment:m,"data-activity":"ticket-comment-box"}),t(nt,{timeline:e.ticket.timeline,"data-activity":"ticket-timeline"},null,8,["timeline"])]))}}),ut=j(dt,[["__scopeId","data-v-d0f02210"]]),mt={class:"ticket-sidebar"},vt={class:"d-flex align-center justify-space-between mb-3"},ft={class:"text-xs"},gt={key:0,class:"d-flex align-center gap-3"},yt={class:"text-sm"},ht={class:"font-weight-semibold"},pt={class:"text-body-2 text-medium-emphasis"},kt={key:1,class:"text-body-2 text-medium-emphasis"},bt={class:"d-flex align-center justify-space-between mb-3"},_t={key:0,class:"d-flex flex-wrap gap-2"},xt={key:1,class:"text-body-2 text-medium-emphasis"},Ct={class:"d-flex align-center justify-space-between mb-3"},wt={key:0},$t={class:"d-flex align-center gap-2"},Tt={key:1,class:"text-body-2 text-medium-emphasis"},Vt={class:"text-caption text-medium-emphasis mt-2"},Dt={class:"d-flex align-center justify-space-between mb-3"},St={class:"details-list"},zt={class:"detail-item"},It={class:"detail-value"},Lt={class:"detail-item"},At={class:"detail-value"},Bt=P({__name:"TicketDetailSidebar",props:{ticket:{}},emits:["update:assignee","update:labels","update:priority","update:dueDate","update:visibility","update:watching"],setup(e,{emit:n}){const r=n,m=O([{id:1,name:"Lan Chen",avatar:void 0,email:"lan@example.com"},{id:2,name:"Sarah Johnson",avatar:void 0,email:"sarah@example.com"},{id:3,name:"Mike Wang",avatar:void 0,email:"mike@example.com"},{id:4,name:"Emily Davis",avatar:void 0,email:"emily@example.com"}]),f=O([{id:1,name:"enhancement",color:"#56CA00",description:"New feature or request"},{id:2,name:"bug",color:"#FF4C51",description:"Something is not working"},{id:3,name:"documentation",color:"#16B1FF",description:"Improvements to documentation"},{id:4,name:"high-priority",color:"#FF4C51",description:"High priority issue"},{id:5,name:"backend",color:"#16B1FF",description:"Backend related"},{id:6,name:"frontend",color:"#8C57FF",description:"Frontend related"}]),c=[{value:"low",text:"Low",color:"grey",icon:"ri-arrow-down-line"},{value:"medium",text:"Medium",color:"info",icon:"ri-subtract-line"},{value:"high",text:"High",color:"warning",icon:"ri-arrow-up-line"},{value:"critical",text:"Critical",color:"error",icon:"ri-error-warning-line"}],o=[{value:"public",text:"Public",icon:"ri-global-line",description:"Everyone can see"},{value:"private",text:"Private",icon:"ri-lock-line",description:"Only you can see"},{value:"team",text:"Team",icon:"ri-team-line",description:"Team members can see"}];function a(w){r("update:assignee",w)}function v(w){r("update:labels",[w])}function I(w){r("update:priority",w)}function b(w){r("update:visibility",w)}function T(){r("update:watching",!props.ticket.isWatching)}function z(w){return new Date(w).toLocaleDateString()}return(w,g)=>(u(),k("div",mt,[t(x,{class:"mb-4","data-activity":"assignee-card"},{default:i(()=>[t(C,null,{default:i(()=>[l("div",vt,[g[2]||(g[2]=l("h4",{class:"text-subtitle-1 font-weight-semibold"}," Assignee ",-1)),t(F,null,{activator:i(({props:s})=>[t(V,U(s,{icon:"",variant:"text",size:"small","data-activity":"assignee-menu-btn"}),{default:i(()=>[t(h,{icon:"ri-settings-3-line"})]),_:1},16)]),default:i(()=>[t(M,{"data-activity":"assignee-menu-list"},{default:i(()=>[(u(!0),k(B,null,A(m.value,s=>(u(),_(D,{key:s.id,onClick:p=>a(s),"data-activity":`assignee-option-${s.id}`},{prepend:i(()=>[t(R,{color:s.avatar?void 0:"secondary",size:"32"},{default:i(()=>[l("span",ft,d(s.name.charAt(0).toUpperCase()),1)]),_:2},1032,["color"])]),default:i(()=>[t(S,null,{default:i(()=>[y(d(s.name),1)]),_:2},1024),t(E,null,{default:i(()=>[y(d(s.email),1)]),_:2},1024)]),_:2},1032,["onClick","data-activity"]))),128)),t(oe),t(D,{onClick:g[0]||(g[0]=s=>a(null)),"data-activity":"assignee-clear"},{prepend:i(()=>[t(h,{icon:"ri-close-line"})]),default:i(()=>[t(S,null,{default:i(()=>[...g[1]||(g[1]=[y("Clear assignee",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),e.ticket.assignee?(u(),k("div",gt,[t(R,{color:e.ticket.assignee.avatar?void 0:"primary",size:"40"},{default:i(()=>[l("span",yt,d(e.ticket.assignee.name.charAt(0).toUpperCase()),1)]),_:1},8,["color"]),l("div",null,[l("div",ht,d(e.ticket.assignee.name),1),l("div",pt,d(e.ticket.assignee.email),1)])])):(u(),k("div",kt," No assignee "))]),_:1})]),_:1}),t(x,{class:"mb-4","data-activity":"labels-card"},{default:i(()=>[t(C,null,{default:i(()=>[l("div",bt,[g[3]||(g[3]=l("h4",{class:"text-subtitle-1 font-weight-semibold"}," Labels ",-1)),t(F,null,{activator:i(({props:s})=>[t(V,U(s,{icon:"",variant:"text",size:"small","data-activity":"labels-menu-btn"}),{default:i(()=>[t(h,{icon:"ri-settings-3-line"})]),_:1},16)]),default:i(()=>[t(M,{"data-activity":"labels-menu-list"},{default:i(()=>[(u(!0),k(B,null,A(f.value,s=>(u(),_(D,{key:s.id,onClick:p=>v(s),"data-activity":`label-option-${s.id}`},{prepend:i(()=>[l("div",{class:"label-color-dot",style:Ce({backgroundColor:s.color})},null,4)]),default:i(()=>[t(S,null,{default:i(()=>[y(d(s.name),1)]),_:2},1024),s.description?(u(),_(E,{key:0},{default:i(()=>[y(d(s.description),1)]),_:2},1024)):ne("",!0)]),_:2},1032,["onClick","data-activity"]))),128))]),_:1})]),_:1})]),e.ticket.labels.length>0?(u(),k("div",_t,[(u(!0),k(B,null,A(e.ticket.labels,s=>(u(),_(H,{key:s.id,color:s.color,size:"small","data-activity":`label-chip-${s.id}`},{default:i(()=>[y(d(s.name),1)]),_:2},1032,["color","data-activity"]))),128))])):(u(),k("div",xt," No labels "))]),_:1})]),_:1}),t(x,{class:"mb-4","data-activity":"priority-card"},{default:i(()=>[t(C,null,{default:i(()=>{var s;return[l("div",Ct,[g[4]||(g[4]=l("h4",{class:"text-subtitle-1 font-weight-semibold"}," Priority ",-1)),t(F,null,{activator:i(({props:p})=>[t(V,U(p,{icon:"",variant:"text",size:"small","data-activity":"priority-menu-btn"}),{default:i(()=>[t(h,{icon:"ri-settings-3-line"})]),_:1},16)]),default:i(()=>[t(M,{"data-activity":"priority-menu-list"},{default:i(()=>[(u(),k(B,null,A(c,p=>t(D,{key:p.value,onClick:L=>I(p.value),"data-activity":`priority-option-${p.value}`},{prepend:i(()=>[t(h,{icon:p.icon,color:p.color},null,8,["icon","color"])]),default:i(()=>[t(S,null,{default:i(()=>[y(d(p.text),1)]),_:2},1024)]),_:2},1032,["onClick","data-activity"])),64))]),_:1})]),_:1})]),t(H,{color:(s=c.find(p=>p.value===e.ticket.priority))==null?void 0:s.color,size:"small"},{default:i(()=>{var p,L;return[t(h,{icon:(p=c.find(Z=>Z.value===e.ticket.priority))==null?void 0:p.icon,size:"16",start:""},null,8,["icon"]),y(" "+d((L=c.find(Z=>Z.value===e.ticket.priority))==null?void 0:L.text),1)]}),_:1},8,["color"])]}),_:1})]),_:1}),t(x,{class:"mb-4","data-activity":"due-date-card"},{default:i(()=>[t(C,null,{default:i(()=>[g[5]||(g[5]=l("h4",{class:"text-subtitle-1 font-weight-semibold mb-3"}," Due Date ",-1)),e.ticket.dueDate?(u(),k("div",wt,[l("div",$t,[t(h,{icon:"ri-calendar-line",size:"20",color:"warning"}),l("span",null,d(z(e.ticket.dueDate)),1)])])):(u(),k("div",Tt," No due date "))]),_:1})]),_:1}),t(x,{class:"mb-4","data-activity":"notifications-card"},{default:i(()=>[t(C,null,{default:i(()=>[g[6]||(g[6]=l("h4",{class:"text-subtitle-1 font-weight-semibold mb-3"}," Notifications ",-1)),t(V,{variant:e.ticket.isWatching?"flat":"outlined",color:e.ticket.isWatching?"primary":"secondary",block:"",onClick:T,"data-activity":"watching-toggle-btn"},{default:i(()=>[t(h,{icon:e.ticket.isWatching?"ri-eye-line":"ri-eye-off-line",start:""},null,8,["icon"]),y(" "+d(e.ticket.isWatching?"Watching":"Watch"),1)]),_:1},8,["variant","color"]),l("div",Vt,d(e.ticket.watchers)+" "+d(e.ticket.watchers===1?"person is":"people are")+" watching ",1)]),_:1})]),_:1}),t(x,{class:"mb-4","data-activity":"visibility-card"},{default:i(()=>[t(C,null,{default:i(()=>[l("div",Dt,[g[7]||(g[7]=l("h4",{class:"text-subtitle-1 font-weight-semibold"}," Visibility ",-1)),t(F,null,{activator:i(({props:s})=>[t(V,U(s,{icon:"",variant:"text",size:"small","data-activity":"visibility-menu-btn"}),{default:i(()=>[t(h,{icon:"ri-settings-3-line"})]),_:1},16)]),default:i(()=>[t(M,{"data-activity":"visibility-menu-list"},{default:i(()=>[(u(),k(B,null,A(o,s=>t(D,{key:s.value,onClick:p=>b(s.value),"data-activity":`visibility-option-${s.value}`},{prepend:i(()=>[t(h,{icon:s.icon},null,8,["icon"])]),default:i(()=>[t(S,null,{default:i(()=>[y(d(s.text),1)]),_:2},1024),t(E,null,{default:i(()=>[y(d(s.description),1)]),_:2},1024)]),_:2},1032,["onClick","data-activity"])),64))]),_:1})]),_:1})]),t(H,{size:"small",variant:"tonal"},{default:i(()=>{var s,p;return[t(h,{icon:(s=o.find(L=>L.value===e.ticket.visibility))==null?void 0:s.icon,size:"16",start:""},null,8,["icon"]),y(" "+d((p=o.find(L=>L.value===e.ticket.visibility))==null?void 0:p.text),1)]}),_:1})]),_:1})]),_:1}),t(x,{"data-activity":"details-card"},{default:i(()=>[t(C,null,{default:i(()=>[g[10]||(g[10]=l("h4",{class:"text-subtitle-1 font-weight-semibold mb-3"}," Details ",-1)),l("div",St,[l("div",zt,[g[8]||(g[8]=l("span",{class:"detail-label"},"Created",-1)),l("span",It,d(z(e.ticket.createdAt)),1)]),l("div",Lt,[g[9]||(g[9]=l("span",{class:"detail-label"},"Updated",-1)),l("span",At,d(z(e.ticket.updatedAt)),1)])])]),_:1})]),_:1})]))}}),Pt=j(Bt,[["__scopeId","data-v-584cfcf6"]]),Ut=P({__name:"detail",setup(e){const n=we();N(()=>n.params.id);const r=O({id:6,reference:"#6",title:"Enable email registration",description:`## Overview
Allow new members to sign up with email verification to improve accessibility and user onboarding.

## Current Behavior
Currently, users can only register through social authentication (Google, GitHub).

## Expected Behavior
- Add email/password registration form
- Implement email verification flow
- Send welcome email after verification

## Technical Requirements
- Use existing authentication service
- Add rate limiting to prevent spam
- Store verification tokens securely

## Acceptance Criteria
- [ ] User can register with email and password
- [ ] Verification email is sent immediately
- [ ] Email contains secure verification link
- [ ] Link expires after 24 hours
- [ ] User receives welcome email after verification`,status:"in_progress",priority:"high",project:"Authentication",assignee:{id:1,name:"Lan Chen",avatar:void 0,email:"lan@example.com"},reporter:{id:2,name:"Sarah Johnson",avatar:void 0,email:"sarah@example.com"},labels:[{id:1,name:"enhancement",color:"#56CA00",description:"New feature or request"},{id:2,name:"high-priority",color:"#FF4C51",description:"High priority issue"},{id:3,name:"backend",color:"#16B1FF",description:"Backend related"}],createdAt:"2024-08-20T10:30:00Z",updatedAt:"2024-08-27T14:25:00Z",dueDate:"2024-09-15T23:59:59Z",watchers:5,isWatching:!0,visibility:"public",timeline:[{id:1,type:"created",user:{name:"Sarah Johnson",avatar:void 0},timestamp:"2024-08-20T10:30:00Z"},{id:2,type:"label_change",user:{name:"Sarah Johnson",avatar:void 0},timestamp:"2024-08-20T10:35:00Z",changes:{field:"labels",oldValue:"",newValue:"enhancement, backend"}},{id:3,type:"assignee_change",user:{name:"Sarah Johnson",avatar:void 0},timestamp:"2024-08-21T09:15:00Z",changes:{field:"assignee",oldValue:"",newValue:"Lan Chen"}},{id:4,type:"comment",user:{name:"Lan Chen",avatar:void 0},timestamp:"2024-08-22T11:20:00Z",content:"I'll start working on this. Planning to implement the email service integration first."},{id:5,type:"status_change",user:{name:"Lan Chen",avatar:void 0},timestamp:"2024-08-22T11:21:00Z",changes:{field:"status",oldValue:"open",newValue:"in_progress"}},{id:6,type:"label_change",user:{name:"Lan Chen",avatar:void 0},timestamp:"2024-08-23T15:30:00Z",changes:{field:"labels",oldValue:"enhancement, backend",newValue:"enhancement, backend, high-priority"}},{id:7,type:"comment",user:{name:"Sarah Johnson",avatar:void 0},timestamp:"2024-08-27T14:25:00Z",content:"Thanks for the update! Please make sure to add rate limiting to prevent abuse."}]});function m(c){Object.assign(r.value,c)}function f(c){const o={id:r.value.timeline.length+1,type:"comment",user:{name:"Current User",avatar:void 0},timestamp:new Date().toISOString(),content:c};r.value.timeline.push(o)}return(c,o)=>(u(),_(Te,{fluid:"",class:"ticket-detail-page"},{default:i(()=>[t(Ue,{ticket:r.value,"onUpdate:status":o[0]||(o[0]=a=>m({status:a})),"data-activity":"ticket-detail-header"},null,8,["ticket"]),t(Ve,{class:"mt-4"},{default:i(()=>[t(Y,{cols:"12",lg:"8"},{default:i(()=>[t(ut,{ticket:r.value,onAddComment:f,"data-activity":"ticket-detail-main-content"},null,8,["ticket"])]),_:1}),t(Y,{cols:"12",lg:"4"},{default:i(()=>[t(Pt,{ticket:r.value,"onUpdate:assignee":o[1]||(o[1]=a=>m({assignee:a})),"onUpdate:labels":o[2]||(o[2]=a=>m({labels:a})),"onUpdate:priority":o[3]||(o[3]=a=>m({priority:a})),"onUpdate:dueDate":o[4]||(o[4]=a=>m({dueDate:a})),"onUpdate:visibility":o[5]||(o[5]=a=>m({visibility:a})),"onUpdate:watching":o[6]||(o[6]=a=>m({isWatching:a})),"data-activity":"ticket-detail-sidebar"},null,8,["ticket"])]),_:1})]),_:1})]),_:1}))}}),Xt=j(Ut,[["__scopeId","data-v-ad048656"]]);export{Xt as default};

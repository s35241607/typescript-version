import{d as Y,ah as be,f as q,o as p,w as s,b as a,A as h,ai as re,a6 as $,r as v,a as _,N as _e,aj as X,c as k,ab as O,n as G,F as V,aa as K,V as M,t as N,ak as De,al as ke,_ as se,am as te,an as Ce,af as we,a9 as ae}from"./index-BaKbcs2C.js";import{V as z,c as E,b as A,a as P,d as xe}from"./VCard-BYrZk73B.js";import{V as Ie}from"./VDivider-C_z79CqU.js";import{a as le,V as oe}from"./VRow-BABQe4gA.js";import{V as Te}from"./VDialog-ClV5TsUG.js";import{V as $e}from"./VTextField-4DBp7H_8.js";import{a as Ve}from"./VDataTable-Cu_JP0kT.js";import"./VAvatar-DwqKiXZA.js";import"./VImg-CFjAi7qv.js";/* empty css              */import"./VMenu-DIIC8yrC.js";import"./index-CyVDFMrX.js";import"./ssrBoot-B8xJhrW2.js";import"./VSlideGroup-TlXA2OaH.js";import"./VTable-B4dEHwRU.js";const ze=Y({__name:"TestToast",setup(T){const b=be(),d=(g,u)=>{b.show(g,u)};return(g,u)=>(p(),q(z,{class:"mx-auto my-4"},{default:s(()=>[a(A,null,{default:s(()=>[a(E,{class:"text-h4 font-weight-bold"},{default:s(()=>u[2]||(u[2]=[h(" Test Page ")])),_:1})]),_:1}),a(Ie),a(P,null,{default:s(()=>[a(le,null,{default:s(()=>[a(oe,{cols:"12"},{default:s(()=>[a(re,{color:"info",variant:"tonal",border:"start"},{default:s(()=>u[3]||(u[3]=[h(" Toast Test ")])),_:1})]),_:1})]),_:1}),a(le,null,{default:s(()=>[a(oe,{cols:"12",class:"d-flex gap-4"},{default:s(()=>[a($,{color:"success",variant:"elevated",onClick:u[0]||(u[0]=C=>d("success","success"))},{default:s(()=>u[4]||(u[4]=[h(" Success ")])),_:1}),a($,{color:"error",variant:"elevated",onClick:u[1]||(u[1]=C=>d("error","error"))},{default:s(()=>u[5]||(u[5]=[h(" Error ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Ee={__name:"TestDeleteConfirm",emits:["confirmDelete"],setup(T,{emit:b}){const d=b,g=v(!1),u=()=>{d("confirmDelete"),console.log("Deleted Succeefully"),g.value=!1};return(C,m)=>(p(),q(Te,{modelValue:g.value,"onUpdate:modelValue":m[1]||(m[1]=x=>g.value=x),"max-width":"450"},{activator:s(({props:x})=>[a($,_e({color:"error"},x),{default:s(()=>m[2]||(m[2]=[h(" Delete ")])),_:2},1040)]),default:s(()=>[a(z,null,{default:s(()=>[a(E,{class:"headline"},{default:s(()=>m[3]||(m[3]=[h(" Confirm Deletion ")])),_:1}),a(P,null,{default:s(()=>[a(re,{type:"warning",variant:"tonal"},{default:s(()=>m[4]||(m[4]=[h(" Are you sure you want to delete this item? "),_("br",null,null,-1),h(" This action cannot be undone. ")])),_:1})]),_:1}),a(xe,{class:"justify-end"},{default:s(()=>[a($,{color:"secondary",variant:"outlined",onClick:m[0]||(m[0]=x=>g.value=!1)},{default:s(()=>m[5]||(m[5]=[h(" Cancel ")])),_:1}),a($,{color:"error",variant:"elevated",onClick:u},{default:s(()=>m[6]||(m[6]=[h(" Confirm Delete ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Pe={class:"file-upload-container"},Se={class:"upload-area"},Re={key:0,class:"file-list"},Be=["onClick"],Le={class:"file-details"},Ae={class:"file-name"},Ne={class:"file-size"},je={class:"file-actions"},Fe={class:"progress-container"},Ue=Y({__name:"TestFileUplaod",setup(T){const b=v([]),d=v(null),g=v(!1),u=v({}),C=X({}),m=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),x=t=>t.startsWith("image/")?"ri-image-line":t.startsWith("video/")?"ri-video-line":t.startsWith("audio/")?"ri-music-line":t.includes("pdf")?"ri-file-pdf-line":t.includes("word")||t.includes("document")?"ri-file-word-line":t.includes("excel")||t.includes("sheet")?"ri-file-excel-line":t.includes("powerpoint")||t.includes("presentation")?"ri-file-ppt-line":t.includes("zip")||t.includes("compressed")?"ri-file-zip-line":"ri-file-line",S=t=>{if(t===0)return"0 Bytes";const n=1024,f=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(t)/Math.log(n));return`${Number.parseFloat((t/n**w).toFixed(2))} ${f[w]}`},j=t=>{u.value[t.id]=0;const n=setInterval(()=>{u.value[t.id]<100?(u.value[t.id]+=Math.floor(Math.random()*10)+1,u.value[t.id]>100&&(u.value[t.id]=100)):(clearInterval(n),C[t.id]=!0,setTimeout(()=>{C[t.id]=!1},1500))},200)},R=()=>{d.value&&d.value.click()},D=t=>{t&&Array.from(t).forEach(n=>{if(!b.value.some(w=>w.name===n.name&&w.size===n.size)){const w={name:n.name,size:n.size,type:n.type,url:URL.createObjectURL(n),file:n,id:m()};b.value.push(w),j(w)}})},B=t=>{const n=t.target;D(n.files),n&&(n.value="")},y=t=>{t.preventDefault(),g.value=!0},L=t=>{t.preventDefault(),g.value=!0},W=()=>{g.value=!1},F=t=>{var n;t.preventDefault(),g.value=!1,D(((n=t.dataTransfer)==null?void 0:n.files)||null)},U=t=>{const n=document.createElement("a");n.href=t.url,n.download=t.name,document.body.appendChild(n),n.click(),document.body.removeChild(n)},H=t=>{const n=b.value.findIndex(w=>w.id===t);if(n===-1)return;const f=b.value[n];URL.revokeObjectURL(f.url),b.value.splice(n,1),delete u.value[t],delete C[t]};return(t,n)=>(p(),k("div",Pe,[_("div",Se,[a($,{variant:"tonal",color:"primary",size:"small","prepend-icon":"ri-upload-line",onClick:R},{default:s(()=>n[0]||(n[0]=[h(" 選擇文件 ")])),_:1}),_("div",{class:G(["dropzone",{"is-dragging":g.value}]),onDragenter:y,onDragover:L,onDragleave:W,onDrop:F},n[1]||(n[1]=[_("span",{class:"text-caption text-medium-emphasis"},"拖放文件至此",-1)]),34)]),_("input",{ref_key:"fileInput",ref:d,type:"file",hidden:"",multiple:"",onChange:B},null,544),b.value.length>0?(p(),k("div",Re,[(p(!0),k(V,null,K(b.value,f=>(p(),k("div",{key:f.id,class:"file-item"},[_("div",{class:"file-info",onClick:w=>U(f)},[a(M,{icon:x(f.type),size:"small",color:"primary"},null,8,["icon"]),_("div",Le,[_("div",Ae,N(f.name),1),_("div",Ne,N(S(f.size)),1)])],8,Be),_("div",je,[_("div",Fe,[u.value[f.id]<100?(p(),q(De,{key:0,"model-value":u.value[f.id],size:16,width:2,color:"primary"},null,8,["model-value"])):O("",!0),a(ke,{name:"checkmark-fly"},{default:s(()=>[C[f.id]?(p(),q(M,{key:0,icon:"ri-check-line",color:"success",size:"small",class:"checkmark-icon"})):O("",!0)]),_:2},1024)]),a($,{icon:"",variant:"text",color:"error",size:"small",onClick:w=>H(f.id)},{default:s(()=>[a(M,{size:"small",icon:"ri-close-line"})]),_:2},1032,["onClick"])])]))),128))])):O("",!0)]))}}),Me=se(Ue,[["__scopeId","data-v-2e90444d"]]),qe={class:"enhanced-data-table"},We=["data-key","data-column-index"],He={class:"d-flex align-center justify-space-between"},Oe={class:"d-flex align-center"},Xe=["onDragstart","onDragover","onDrop"],Ge=["onMousedown"],Ke=["onDragstart","onDragover","onDrop"],Ye=["onClick"],Je={key:0},Qe={key:1},Ze={__name:"EnhancedDataTable",props:{headers:{type:Array,required:!0},items:{type:Array,required:!0},loading:{type:Boolean,default:!1}},emits:["update:headers","update:items"],setup(T,{emit:b}){const d=T,g=b,u=v(null),C=v(10),m=X({}),x=v(!1),S=v(null),j=v(0),R=v(0),D=v(null),B=v(0),y=X({itemId:null,key:null,value:null}),L=v([]),W=(l,e)=>y.itemId===l.id&&y.key===e,F=l=>{if(!x.value)return;const e=R.value+(l.clientX-j.value);if(e>=50&&(B.value=e,D.value)){const r=document.querySelector(`th[data-key="${S.value}"]`),o=document.querySelector(".enhanced-data-table table").getBoundingClientRect().left,i=r.getBoundingClientRect().left-o+e;D.value.style.left=`${i}px`,r.style.width=`${e}px`,r.style.minWidth=`${e}px`}},U=()=>{x.value&&(m[S.value]=`${B.value}px`,D.value&&D.value.parentNode&&(D.value.parentNode.removeChild(D.value),D.value=null),x.value=!1,document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",U))},H=(l,e)=>{x.value=!0,S.value=e,j.value=l.clientX;const r=document.querySelector(`th[data-key="${e}"]`);R.value=r?r.offsetWidth:100,B.value=R.value,D.value=document.createElement("div"),D.value.className="resize-preview",D.value.style.height=`${document.querySelector(".enhanced-data-table table").offsetHeight}px`,D.value.style.top=`${r.offsetTop}px`,D.value.style.left=`${r.offsetLeft+r.offsetWidth}px`,document.querySelector(".enhanced-data-table").appendChild(D.value),document.addEventListener("mousemove",F),document.addEventListener("mouseup",U),l.preventDefault()},t=v(null),n=v(null),f=v(null),w=v(null),I=v(null),ne=v(null),J=()=>{n.value=null,w.value=null,t.value=null,f.value=null,I.value=null,document.querySelectorAll("th").forEach(l=>{l.classList.remove("column-dragging","column-dragover","column-dragover-before","column-dragover-after")}),document.querySelectorAll("tr").forEach(l=>{l.classList.remove("row-dragging","row-dragover","row-dragover-before","row-dragover-after")})},ie=(l,e)=>{t.value=e,l.dataTransfer.setData("rowIndex",e);const r=l.currentTarget,o=r.getBoundingClientRect(),i=r.cloneNode(!0);i.style.position="absolute",i.style.top="-1000px",i.style.opacity="0.8",i.style.width=`${o.width}px`,document.body.appendChild(i),l.dataTransfer.setDragImage(i,20,20),setTimeout(()=>{document.body.removeChild(i)},0),l.dataTransfer.effectAllowed="move"},ue=(l,e)=>{if(l.preventDefault(),t.value===e)return;f.value=e;const r=l.currentTarget.getBoundingClientRect(),o=l.clientY-r.top;I.value=o<r.height/2?"before":"after"},de=()=>{},ce=(l,e)=>{const r=Number.parseInt(l.dataTransfer.getData("rowIndex"));if(r===e)return;const o=[...d.items],i=o.splice(r,1)[0];o.splice(e,0,i),g("update:items",o),t.value=null,f.value=null,ae(()=>{})},me=(l,e)=>{if(!l.target.closest(".drag-handle"))return l.preventDefault(),!1;n.value=e,l.dataTransfer.setData("columnIndex",e.toString());const o=l.currentTarget.closest("th");ne.value=o;const i=o.cloneNode(!0);i.style.width=`${o.offsetWidth}px`,i.style.height=`${o.offsetHeight}px`,i.style.background="#f5f5f5",i.style.border="1px solid #ddd",i.style.borderRadius="4px",i.style.opacity="0.8",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",document.body.appendChild(i),l.dataTransfer.setDragImage(i,20,20),setTimeout(()=>{document.body.removeChild(i)},0),o.classList.add("column-dragging"),l.dataTransfer.effectAllowed="move"},ve=(l,e)=>{if(l.preventDefault(),n.value===e||n.value===null)return;w.value=e;const r=l.currentTarget.closest("th"),o=r.getBoundingClientRect(),i=l.clientX-o.left;I.value=i<o.width/2?"before":"after",document.querySelectorAll("th").forEach(c=>{c.classList.remove("column-dragover-before","column-dragover-after")}),r.classList.add(`column-dragover-${I.value}`)},fe=l=>{l.currentTarget.closest("th").classList.remove("column-dragover-before","column-dragover-after")},pe=(l,e)=>{l.preventDefault();const r=Number.parseInt(l.dataTransfer.getData("columnIndex"));if(r===e||Number.isNaN(r))return;let o=e;I.value==="after"&&r<e?o+=1:I.value==="before"&&r>e?o-=0:I.value==="after"&&r>e?o+=0:I.value==="before"&&r<e&&(o-=1);const i=[...d.headers],c=i.splice(r,1)[0];o=Math.max(0,Math.min(o,i.length)),i.splice(o,0,c),g("update:headers",i),J()},Q=()=>{J()},ge=(l,e)=>{event.target.closest(".drag-handle")||event.target.closest(".column-resizer")||["index"].includes(e)||(y.itemId=l.id,y.key=e,y.value=l[e],ae(()=>{const o=document.querySelector(".enhanced-data-table input");o&&o.focus()}))},Z=()=>{if(y.itemId!==null){const l=d.items.map(e=>e.id===y.itemId?{...e,[y.key]:y.value}:e);g("update:items",l),y.itemId=null,y.key=null,y.value=null}},ye=()=>{y.itemId=null,y.key=null,y.value=null},he=l=>{L.value=l};return(l,e)=>(p(),k("div",qe,[a(Ve,{ref_key:"dataTable",ref:u,"items-per-page":C.value,"onUpdate:itemsPerPage":e[2]||(e[2]=r=>C.value=r),"sort-by":L.value,"onUpdate:sortBy":[e[3]||(e[3]=r=>L.value=r),he],headers:T.headers,items:T.items,loading:T.loading,class:"elevation-1"},{headers:s(({columns:r})=>[_("tr",null,[(p(!0),k(V,null,K(r,(o,i)=>(p(),k("th",{key:o.key,"data-key":o.key,"data-column-index":i,style:Ce({width:m[o.key]||"auto"})},[_("div",He,[_("span",null,N(o.title),1),_("div",Oe,[_("div",{class:"drag-handle",draggable:"true",onDragstart:c=>me(c,i),onDragover:c=>ve(c,i),onDragleave:e[0]||(e[0]=c=>fe(c)),onDragend:Q,onDrop:c=>pe(c,i)},[a(M,{size:"small",class:"ms-1"},{default:s(()=>e[4]||(e[4]=[h(" ri-draggable ")])),_:1})],40,Xe),_("div",{class:"column-resizer",onMousedown:we(c=>H(c,o.key),["stop"])},null,40,Ge)])])],12,We))),128))])]),item:s(({item:r,index:o,columns:i})=>[(p(),k("tr",{key:r.id,class:G({"row-dragging":t.value===o,"row-dragover":f.value===o,"row-dragover-before":f.value===o&&I.value==="before","row-dragover-after":f.value===o&&I.value==="after"}),draggable:"true",onDragstart:c=>ie(c,o),onDragover:c=>ue(c,o),onDragleave:de,onDragend:Q,onDrop:c=>ce(c,o)},[(p(!0),k(V,null,K(i,c=>(p(),k("td",{key:c.key,class:G({"cell-editable":!["index"].includes(c.key)}),onClick:ee=>ge(r,c.key)},[W(r,c.key)?(p(),k("div",Je,[a($e,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=ee=>y.value=ee),density:"compact",variant:"outlined","hide-details":"",autofocus:"",onBlur:Z,onKeyup:[te(Z,["enter"]),te(ye,["esc"])]},null,8,["modelValue"])])):(p(),k("div",Qe,[c.key==="index"?(p(),k(V,{key:0},[h(N(o+1),1)],64)):(p(),k(V,{key:1},[h(N(r[c.key]),1)],64))]))],10,Ye))),128))],42,Ke))]),_:1},8,["items-per-page","sort-by","headers","items","loading"])]))}},et=se(Ze,[["__scopeId","data-v-b3788049"]]),tt={__name:"TableDemo",setup(T){const b=v([{title:"ID",key:"id",sortable:!0},{title:"Project Name",key:"name",sortable:!0},{title:"Description",key:"description",sortable:!1},{title:"Status",key:"status",sortable:!0},{title:"Created Date",key:"createdAt",sortable:!0},{title:"Priority",key:"priority",sortable:!0},{title:"Budget (USD)",key:"budget",sortable:!0},{title:"Progress (%)",key:"progress",sortable:!0},{title:"Active",key:"active",sortable:!0}]),d=v([{id:1,name:"Project Alpha",description:"Description of Project Alpha",status:"In Progress",createdAt:"2024-02-01",priority:"High",budget:5e4,progress:60,active:!0},{id:2,name:"Project Beta",description:"Description of Project Beta",status:"Completed",createdAt:"2024-01-15",priority:"Medium",budget:75e3,progress:100,active:!1},{id:3,name:"Project Gamma",description:"Description of Project Gamma",status:"Pending",createdAt:"2024-03-01",priority:"Low",budget:3e4,progress:20,active:!0},{id:4,name:"Project Delta",description:"Description of Project Delta",status:"In Progress",createdAt:"2024-02-20",priority:"High",budget:9e4,progress:45,active:!0},{id:5,name:"Project Epsilon",description:"Description of Project Epsilon",status:"Completed",createdAt:"2024-01-05",priority:"Medium",budget:6e4,progress:100,active:!1}]),g=v(!1);return(u,C)=>(p(),k("div",null,[a(et,{headers:b.value,"onUpdate:headers":C[0]||(C[0]=m=>b.value=m),items:d.value,"onUpdate:items":C[1]||(C[1]=m=>d.value=m),loading:g.value},null,8,["headers","items","loading"])]))}},yt=Y({__name:"TestPage",setup(T){return(b,d)=>(p(),k(V,null,[a(ze),a(z,{class:"mt-4"},{default:s(()=>[a(A,null,{default:s(()=>[a(E,null,{default:s(()=>d[1]||(d[1]=[h(" Test Delete Confirm ")])),_:1})]),_:1}),a(P,null,{default:s(()=>[a(Ee,{onConfirmDelete:d[0]||(d[0]=()=>console.log("123"))})]),_:1})]),_:1}),a(z,{class:"mt-4"},{default:s(()=>[a(A,null,{default:s(()=>[a(E,null,{default:s(()=>d[2]||(d[2]=[h(" Test DateInput ")])),_:1})]),_:1}),a(P)]),_:1}),a(z,{class:"mt-4"},{default:s(()=>[a(A,null,{default:s(()=>[a(E,null,{default:s(()=>d[3]||(d[3]=[h(" Test File Upload ")])),_:1})]),_:1}),a(P,null,{default:s(()=>[a(Me)]),_:1})]),_:1}),a(z,{class:"mt-4"},{default:s(()=>[a(A,null,{default:s(()=>[a(E,null,{default:s(()=>d[4]||(d[4]=[h(" Test Data Table ")])),_:1})]),_:1}),a(P,null,{default:s(()=>[a(tt)]),_:1})]),_:1})],64))}});export{yt as default};

import{V as je}from"./VContainer-CWCKkElO.js";import{a as A,V as ve}from"./VRow-BzWBKbbL.js";import{G as K,H as L,ae as Fe,A as f,J as q,a6 as Re,O as X,b as t,Q as E,F as J,aL as Ge,L as Ee,a8 as ye,aa as h,aM as Le,aN as Me,aO as Ue,a0 as be,aP as Ne,aQ as $e,V as Oe,aR as qe,Z,aS as Qe,aq as Ae,au as Ze,aT as Je,p as Ke,aU as Ve,aV as Xe,aW as Ye,aX as et,r as z,ap as tt,aY as at,l as lt,k as ae,m as it,aZ as nt,at as st,af as fe,aK as ot,a_ as rt,a$ as ut,b0 as dt,d as ct,i as pe,o as re,w as i,a as u,y as m,b1 as we,t as D,u as Se,c as mt,B as vt,f as ft,_ as pt}from"./index-DZYWpONd.js";import{V as bt}from"./VMenu-BpCcz5Ia.js";import{V as Pe,b as ue,c as ke}from"./VList-Bek3y_wi.js";import{V as de,a as ce,b as he}from"./VCard-CzkUCTpX.js";import{a as le}from"./VSelect-Bnq5i43r.js";import{V as Q}from"./VDivider-KhAbI2UN.js";import{c as gt,d as Ie,f as xt,e as yt,g as Vt,h as wt,i as St}from"./VTextField-BASqOrwu.js";import{I as Pt}from"./VImg-Ck4UXhDm.js";import{V as ge,m as kt,a as me,b as ht}from"./VWindowItem-DTS943CN.js";import{V as It}from"./VAvatar-BplqIT06.js";import{V as Ce,m as Ct}from"./VSheet-U-loBRoR.js";import{c as Tt,a as Bt,o as Dt,b as _t,u as Ft,p as Rt,d as Nt,q as At,f as zt,g as Wt,h as Ht,i as jt,r as Te,j as Be,k as De,s as Gt,l as Et,t as Lt}from"./VDataTable-COKtAMMD.js";import{V as _e}from"./VTable-Djket6cT.js";/* empty css              */import"./index-Dqg08_og.js";import"./ssrBoot-DD2YK1P1.js";import"./VSlideGroup-DyHbCsIS.js";import"./filter-DjcY_G3W.js";const Mt=L({itemsLength:{type:[Number,String],required:!0},...Lt(),...Et(),...Gt()},"VDataTableServer"),Ut=K()({name:"VDataTableServer",props:Mt(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,b){let{attrs:n,slots:l}=b;const{groupBy:r}=Tt(e),{sortBy:o,multiSort:d,mustSort:g}=Bt(e),{page:x,itemsPerPage:p}=Dt(e),{disableSort:W}=Fe(e),_=f(()=>parseInt(e.itemsLength,10)),{columns:T,headers:F}=_t(e,{groupBy:r,showSelect:q(e,"showSelect"),showExpand:q(e,"showExpand")}),{items:V}=Ft(e,T),{toggleSort:w}=Rt({sortBy:o,multiSort:d,mustSort:g,page:x}),{opened:R,isGroupOpen:v,toggleGroup:a,extractRows:s}=Nt({groupBy:r,sortBy:o,disableSort:W}),{pageCount:H,setItemsPerPage:I}=At({page:x,itemsPerPage:p,itemsLength:_}),{flatItems:B}=zt(V,r,R),{isSelected:G,select:M,selectAll:S,toggleSelect:P,someSelected:c,allSelected:y}=Wt(e,{allItems:V,currentPage:V}),{isExpanded:k,toggleExpand:N}=Ht(e),$=f(()=>s(V.value));jt({page:x,itemsPerPage:p,sortBy:o,groupBy:r,search:q(e,"search")}),Ge("v-data-table",{toggleSort:w,sortBy:o}),Re({VDataTableRows:{hideNoData:q(e,"hideNoData"),noDataText:q(e,"noDataText"),loading:q(e,"loading"),loadingText:q(e,"loadingText")}});const C=f(()=>({page:x.value,itemsPerPage:p.value,sortBy:o.value,pageCount:H.value,toggleSort:w,setItemsPerPage:I,someSelected:c.value,allSelected:y.value,isSelected:G,select:M,selectAll:S,toggleSelect:P,isExpanded:k,toggleExpand:N,isGroupOpen:v,toggleGroup:a,items:$.value.map(O=>O.raw),internalItems:$.value,groupedItems:B.value,columns:T.value,headers:F.value}));X(()=>{const O=Te.filterProps(e),j=Be.filterProps(e),Y=De.filterProps(e),ie=_e.filterProps(e);return t(_e,E({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},ie,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var U;return(U=l.top)==null?void 0:U.call(l,C.value)},default:()=>{var U,ne,se,oe,ee,te;return l.default?l.default(C.value):t(J,null,[(U=l.colgroup)==null?void 0:U.call(l,C.value),!e.hideDefaultHeader&&t("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[t(Be,j,l)]),(ne=l.thead)==null?void 0:ne.call(l,C.value),!e.hideDefaultBody&&t("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(se=l["body.prepend"])==null?void 0:se.call(l,C.value),l.body?l.body(C.value):t(De,E(n,Y,{items:B.value}),l),(oe=l["body.append"])==null?void 0:oe.call(l,C.value)]),(ee=l.tbody)==null?void 0:ee.call(l,C.value),(te=l.tfoot)==null?void 0:te.call(l,C.value)])},bottom:()=>l.bottom?l.bottom(C.value):!e.hideDefaultFooter&&t(J,null,[t(Q,null,null),t(Te,O,{prepend:l["footer.prepend"]})])})})}}),xe=Symbol.for("vuetify:v-stepper"),ze=L({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),$t=K()({name:"VStepperActions",props:ze(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,b){let{emit:n,slots:l}=b;const{t:r}=Ee();function o(){n("click:prev")}function d(){n("click:next")}return X(()=>{const g={onClick:o},x={onClick:d};return t("div",{class:"v-stepper-actions"},[t(ye,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:r(e.prevText),variant:"text"}}},{default:()=>{var p;return[((p=l.prev)==null?void 0:p.call(l,{props:g}))??t(h,g,null)]}}),t(ye,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:r(e.nextText),variant:"tonal"}}},{default:()=>{var p;return[((p=l.next)==null?void 0:p.call(l,{props:x}))??t(h,x,null)]}})])}),{}}}),Ot=Le("v-stepper-header"),qt=L({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:Z,default:"$complete"},editable:Boolean,editIcon:{type:Z,default:"$edit"},error:Boolean,errorIcon:{type:Z,default:"$error"},icon:Z,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),Qt=L({...qt(),...qe()},"VStepperItem"),We=K()({name:"VStepperItem",directives:{Ripple:Me},props:Qt(),emits:{"group:selected":e=>!0},setup(e,b){let{slots:n}=b;const l=Ue(e,xe,!0),r=f(()=>(l==null?void 0:l.value.value)??e.value),o=f(()=>e.rules.every(T=>T()===!0)),d=f(()=>!e.disabled&&e.editable),g=f(()=>!e.disabled&&e.editable),x=f(()=>e.error||!o.value),p=f(()=>e.complete||e.rules.length>0&&o.value),W=f(()=>x.value?e.errorIcon:p.value?e.completeIcon:l.isSelected.value&&e.editable?e.editIcon:e.icon),_=f(()=>({canEdit:g.value,hasError:x.value,hasCompleted:p.value,title:e.title,subtitle:e.subtitle,step:r.value,value:e.value}));return X(()=>{var R,v,a;const T=(!l||l.isSelected.value||p.value||g.value)&&!x.value&&!e.disabled,F=!!(e.title!=null||n.title),V=!!(e.subtitle!=null||n.subtitle);function w(){l==null||l.toggle()}return be(t("button",{class:["v-stepper-item",{"v-stepper-item--complete":p.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":x.value},l==null?void 0:l.selectedClass.value],disabled:!e.editable,type:"button",onClick:w},[d.value&&$e(!0,"v-stepper-item"),t(It,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:T?e.color:void 0,size:24},{default:()=>{var s;return[((s=n.icon)==null?void 0:s.call(n,_.value))??(W.value?t(Oe,{icon:W.value},null):r.value)]}}),t("div",{class:"v-stepper-item__content"},[F&&t("div",{key:"title",class:"v-stepper-item__title"},[((R=n.title)==null?void 0:R.call(n,_.value))??e.title]),V&&t("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((v=n.subtitle)==null?void 0:v.call(n,_.value))??e.subtitle]),(a=n.default)==null?void 0:a.call(n,_.value)])]),[[Ne("ripple"),e.ripple&&e.editable,null]])}),{}}}),Zt=L({...Ze(kt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),Jt=K()({name:"VStepperWindow",props:Zt(),emits:{"update:modelValue":e=>!0},setup(e,b){let{slots:n}=b;const l=Qe(xe,null),r=Ae(e,"modelValue"),o=f({get(){var d;return r.value!=null||!l?r.value:(d=l.items.value.find(g=>l.selected.value.includes(g.id)))==null?void 0:d.value},set(d){r.value=d}});return X(()=>{const d=ge.filterProps(e);return t(ge,E({_as:"VStepperWindow"},d,{modelValue:o.value,"onUpdate:modelValue":g=>o.value=g,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),Kt=L({...ht()},"VStepperWindowItem"),Xt=K()({name:"VStepperWindowItem",props:Kt(),setup(e,b){let{slots:n}=b;return X(()=>{const l=me.filterProps(e);return t(me,E({_as:"VStepperWindowItem"},l,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),Yt=L({altLabels:Boolean,bgColor:String,completeIcon:Z,editIcon:Z,editable:Boolean,errorIcon:Z,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...et()},"Stepper"),ea=L({...Yt(),...Ye({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...Ct(),...Xe(ze(),["prevText","nextText"])},"VStepper"),ta=K()({name:"VStepper",props:ea(),emits:{"update:modelValue":e=>!0},setup(e,b){let{slots:n}=b;const{items:l,next:r,prev:o,selected:d}=Je(e,xe),{displayClasses:g,mobile:x}=Ke(e),{completeIcon:p,editIcon:W,errorIcon:_,color:T,editable:F,prevText:V,nextText:w}=Fe(e),R=f(()=>e.items.map((s,H)=>{const I=Ve(s,e.itemTitle,s),B=Ve(s,e.itemValue,H+1);return{title:I,value:B,raw:s}})),v=f(()=>l.value.findIndex(s=>d.value.includes(s.id))),a=f(()=>e.disabled?e.disabled:v.value===0?"prev":v.value===l.value.length-1?"next":!1);return Re({VStepperItem:{editable:F,errorIcon:_,completeIcon:p,editIcon:W,prevText:V,nextText:w},VStepperActions:{color:T,disabled:a,prevText:V,nextText:w}}),X(()=>{const s=Ce.filterProps(e),H=!!(n.header||e.items.length),I=e.items.length>0,B=!e.hideActions&&!!(I||n.actions);return t(Ce,E(s,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":x.value},g.value,e.class],style:e.style}),{default:()=>{var G,M;return[H&&t(Ot,{key:"stepper-header"},{default:()=>[R.value.map((S,P)=>{let{raw:c,...y}=S;return t(J,null,[!!P&&t(Q,null,null),t(We,y,{default:n[`header-item.${y.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),I&&t(Jt,{key:"stepper-window"},{default:()=>[R.value.map(S=>t(Xt,{value:S.value},{default:()=>{var P,c;return((P=n[`item.${S.value}`])==null?void 0:P.call(n,S))??((c=n.item)==null?void 0:c.call(n,S))}}))]}),(G=n.default)==null?void 0:G.call(n,{prev:o,next:r}),B&&(((M=n.actions)==null?void 0:M.call(n,{next:r,prev:o}))??t($t,{key:"stepper-actions","onClick:prev":o,"onClick:next":r},n))]}})}),{prev:o,next:r}}}),aa=L({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Vt(),...yt()},"VTextarea"),la=K()({name:"VTextarea",directives:{Intersect:Pt},inheritAttrs:!1,props:aa(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,b){let{attrs:n,emit:l,slots:r}=b;const o=Ae(e,"modelValue"),{isFocused:d,focus:g,blur:x}=gt(e),p=f(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),W=f(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function _(c,y){var k,N;!e.autofocus||!c||(N=(k=y[0].target)==null?void 0:k.focus)==null||N.call(k)}const T=z(),F=z(),V=tt(""),w=z(),R=f(()=>e.persistentPlaceholder||d.value||e.active);function v(){var c;w.value!==document.activeElement&&((c=w.value)==null||c.focus()),d.value||g()}function a(c){v(),l("click:control",c)}function s(c){l("mousedown:control",c)}function H(c){c.stopPropagation(),v(),fe(()=>{o.value="",dt(e["onClick:clear"],c)})}function I(c){var k;const y=c.target;if(o.value=y.value,(k=e.modelModifiers)!=null&&k.trim){const N=[y.selectionStart,y.selectionEnd];fe(()=>{y.selectionStart=N[0],y.selectionEnd=N[1]})}}const B=z(),G=z(+e.rows),M=f(()=>["plain","underlined"].includes(e.variant));at(()=>{e.autoGrow||(G.value=+e.rows)});function S(){e.autoGrow&&fe(()=>{if(!B.value||!F.value)return;const c=getComputedStyle(B.value),y=getComputedStyle(F.value.$el),k=parseFloat(c.getPropertyValue("--v-field-padding-top"))+parseFloat(c.getPropertyValue("--v-input-padding-top"))+parseFloat(c.getPropertyValue("--v-field-padding-bottom")),N=B.value.scrollHeight,$=parseFloat(c.lineHeight),C=Math.max(parseFloat(e.rows)*$+k,parseFloat(y.getPropertyValue("--v-input-control-height"))),O=parseFloat(e.maxRows)*$+k||1/0,j=rt(N??0,C,O);G.value=Math.floor((j-k)/$),V.value=ot(j)})}lt(S),ae(o,S),ae(()=>e.rows,S),ae(()=>e.maxRows,S),ae(()=>e.density,S);let P;return ae(B,c=>{c?(P=new ResizeObserver(S),P.observe(B.value)):P==null||P.disconnect()}),it(()=>{P==null||P.disconnect()}),X(()=>{const c=!!(r.counter||e.counter||e.counterValue),y=!!(c||r.details),[k,N]=nt(n),{modelValue:$,...C}=Ie.filterProps(e),O=xt(e);return t(Ie,E({ref:T,modelValue:o.value,"onUpdate:modelValue":j=>o.value=j,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":M.value},e.class],style:e.style},k,C,{centerAffix:G.value===1&&!M.value,focused:d.value}),{...r,default:j=>{let{id:Y,isDisabled:ie,isDirty:U,isReadonly:ne,isValid:se}=j;return t(St,E({ref:F,style:{"--v-textarea-control-height":V.value},onClick:a,onMousedown:s,"onClick:clear":H,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},O,{id:Y.value,active:R.value||U.value,centerAffix:G.value===1&&!M.value,dirty:U.value||e.dirty,disabled:ie.value,focused:d.value,error:se.value===!1}),{...r,default:oe=>{let{props:{class:ee,...te}}=oe;return t(J,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),be(t("textarea",E({ref:w,class:ee,value:o.value,onInput:I,autofocus:e.autofocus,readonly:ne.value,disabled:ie.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:v,onBlur:x},te,N),null),[[Ne("intersect"),{handler:_},null,{once:!0}]]),e.autoGrow&&be(t("textarea",{class:[ee,"v-textarea__sizer"],id:`${te.id}-sizer`,"onUpdate:modelValue":He=>o.value=He,ref:B,readonly:!0,"aria-hidden":"true"},null),[[ut,o.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:y?j=>{var Y;return t(J,null,[(Y=r.details)==null?void 0:Y.call(r,j),c&&t(J,null,[t("span",null,null),t(wt,{active:e.persistentCounter||d.value,value:p.value,max:W.value,disabled:e.disabled},r.counter)])])}:void 0})}),st({},T,F,w)}}),ia={class:"d-flex justify-space-between align-center mt-auto"},na={class:"text-caption text-medium-emphasis"},sa={class:"text-center mt-4"},oa={class:"font-weight-medium"},ra={class:"font-weight-medium"},ua={class:"font-weight-medium"},da={class:"font-weight-medium"},ca={class:"font-weight-medium"},ma={class:"font-weight-medium"},va={class:"font-weight-medium"},fa=ct({__name:"PriceReviewDashboard",setup(e){const b=z([{title:"提交審核",subtitle:"採購部",date:"2023-11-15",status:"completed",details:"已附上最新報價單"},{title:"採購主管",subtitle:"採購經理",date:"2023-11-16",status:"completed"},{title:"財務部",subtitle:"財務主管",date:"2023-11-17",status:"current"},{title:"總經理",subtitle:"總經理",date:"2023-11-18",status:"pending"},{title:"完成",subtitle:"(狀態)",date:"2023-11-19",status:"pending"}]),n=f(()=>{var H;const v=b.value.find(I=>I.status==="current");if(v)return v.title;const a=b.value.find(I=>I.status==="pending");if(a)return a.title;const s=b.value.filter(I=>I.status==="completed").pop();return s?s.title:(H=b.value[0])==null?void 0:H.title}),l=z("approve"),r=z(""),o=z("flow"),d=z({id:"PT-2023-0458",supplier:"台灣科技材料有限公司",validityPeriod:"2023-12-01 至 2024-11-30",paymentTerms:"月結 60 天",establishedDate:"2023-11-15",submitter:"王小明 (採購部)",currency:"新台幣 (TWD)",status:"審核中"}),g=z([{id:1,materialNumber:"M-10458",productName:"高純度矽晶圓 (8吋)",unit:"片",quantity:1e3,unitPrice:2500,subtotal:25e5,notes:"標準規格，無特殊處理"},{id:2,materialNumber:"M-10459",productName:"高純度矽晶圓 (12吋)",unit:"片",quantity:500,unitPrice:5800,subtotal:29e5,notes:"特殊規格，需預先生產"}]),x=[{title:"項次",key:"id",sortable:!1,width:"50px"},{title:"料號",key:"materialNumber",sortable:!1},{title:"品名",key:"productName",sortable:!1},{title:"單位",key:"unit",sortable:!1,align:"end"},{title:"數量",key:"quantity",sortable:!1,align:"end"},{title:"單價",key:"unitPrice",sortable:!1,align:"end"},{title:"小計",key:"subtotal",sortable:!1,align:"end"},{title:"備註",key:"notes",sortable:!1}],p=f(()=>g.value.length);function W(){console.log("提交簽核:",{action:l.value,comment:r.value})}function _(){console.log("查看完整歷程")}function T(){console.log("批次上傳")}function F(){console.log("新增項目")}function V(v){return`NT$ ${v.toLocaleString("en-US")}`}function w(v){switch(v){case"completed":return"success";case"rejected":return"error";case"current":return"info";case"pending":default:return"blue-grey-lighten-1"}}function R(v){switch(v){case"completed":return"ri-checkbox-circle-fill";case"rejected":return"ri-close-circle-fill";case"current":return"ri-loader-4-line";case"pending":default:return"ri-checkbox-blank-circle-line"}}return(v,a)=>(re(),pe(je,{fluid:""},{default:i(()=>[t(ve,{align:"center",class:"mb-4"},{default:i(()=>[t(A,{cols:"12",sm:"6"},{default:i(()=>[...a[4]||(a[4]=[u("h1",{class:"text-h5"}," 價格表審核 ",-1)])]),_:1}),t(A,{cols:"12",sm:"6",class:"d-flex justify-end align-center"},{default:i(()=>[t(h,{variant:"text",class:"mr-1","prepend-icon":"ri-refresh-line"},{default:i(()=>[...a[5]||(a[5]=[m(" 重新整理 ",-1)])]),_:1}),t(h,{variant:"text",class:"mr-1","prepend-icon":"ri-download-line"},{default:i(()=>[...a[6]||(a[6]=[m(" 匯出 ",-1)])]),_:1}),t(bt,null,{activator:i(({props:s})=>[t(h,E({icon:"ri-more-line"},s,{variant:"text",density:"compact"}),null,16)]),default:i(()=>[t(Pe,{density:"compact"},{default:i(()=>[t(ue,{onClick:()=>{}},{default:i(()=>[t(ke,null,{default:i(()=>[...a[7]||(a[7]=[m("操作 1",-1)])]),_:1})]),_:1}),t(ue,{onClick:()=>{}},{default:i(()=>[t(ke,null,{default:i(()=>[...a[8]||(a[8]=[m("操作 2",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(ve,{class:"mb-6"},{default:i(()=>[t(A,{cols:"12",md:"4"},{default:i(()=>[t(de,{variant:"outlined",height:"100%"},{default:i(()=>[t(ce,{class:"d-flex justify-space-between align-center text-subtitle-1"},{default:i(()=>[a[10]||(a[10]=m(" 簽核意見 ",-1)),t(le,{color:"info",variant:"flat",size:"small"},{default:i(()=>[...a[9]||(a[9]=[m(" 財務部審核階段 ",-1)])]),_:1})]),_:1}),t(Q),t(he,{class:"d-flex flex-column flex-grow-1"},{default:i(()=>[t(we,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),mandatory:"",variant:"text",class:"mb-4 align-self-stretch review-actions",density:"compact"},{default:i(()=>[t(h,{value:"approve",class:"flex-grow-1",color:l.value==="approve"?"primary":void 0},{default:i(()=>[...a[11]||(a[11]=[m(" 核准 ",-1)])]),_:1},8,["color"]),t(h,{value:"reject",class:"flex-grow-1",color:l.value==="reject"?"error":void 0},{default:i(()=>[...a[12]||(a[12]=[m(" 退回 ",-1)])]),_:1},8,["color"]),t(h,{value:"countersign",class:"flex-grow-1",color:l.value==="countersign"?"secondary":void 0},{default:i(()=>[...a[13]||(a[13]=[m(" 加簽 ",-1)])]),_:1},8,["color"])]),_:1},8,["modelValue"]),t(la,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=s=>r.value=s),placeholder:"請輸入核准意見...",variant:"outlined",rows:"4","no-resize":"","auto-grow":"",class:"mb-4 flex-grow-1",density:"compact"},null,8,["modelValue"]),u("div",ia,[t(h,{variant:"text","prepend-icon":"ri-attachment-line",size:"small"},{default:i(()=>[...a[14]||(a[14]=[m(" 附件 ",-1)])]),_:1}),t(h,{color:l.value==="reject"?"error":"primary","prepend-icon":l.value==="reject"?"ri-arrow-left-line":"ri-thumb-up-line",variant:"flat",onClick:W},{default:i(()=>[m(D(l.value==="approve"?"核准":l.value==="reject"?"退回":"送出"),1)]),_:1},8,["color","prepend-icon"])])]),_:1})]),_:1})]),_:1}),t(A,{cols:"12",md:"8"},{default:i(()=>[t(de,{variant:"outlined",height:"100%"},{default:i(()=>[t(ce,{class:"d-flex justify-space-between align-center text-subtitle-1"},{default:i(()=>[a[17]||(a[17]=m(" 簽核流程與歷程 ",-1)),t(we,{modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=s=>o.value=s),mandatory:"",variant:"outlined"},{default:i(()=>[t(h,{value:"flow",size:"small"},{default:i(()=>[...a[15]||(a[15]=[m(" 流程圖 ",-1)])]),_:1}),t(h,{value:"list",size:"small"},{default:i(()=>[...a[16]||(a[16]=[m(" 歷程列表 ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(Q),t(ge,{modelValue:o.value,"onUpdate:modelValue":a[3]||(a[3]=s=>o.value=s),class:"flex-grow-1"},{default:i(()=>[t(me,{value:"flow",class:"pa-4"},{default:i(()=>[t(Se(ta),{"model-value":n.value,"alt-labels":"","hide-actions":""},{default:i(()=>[(re(!0),mt(J,null,vt(b.value,s=>(re(),pe(Se(We),{key:s.title,value:s.title,title:s.title,subtitle:s.subtitle,color:w(s.status),icon:R(s.status),editable:!1},{default:i(()=>[u("div",na,D(s.date),1),s.details?(re(),pe(le,{key:0,density:"compact",color:w(s.status),variant:"tonal",class:"mt-1",label:"",size:"small"},{default:i(()=>[m(D(s.details),1)]),_:2},1032,["color"])):ft("",!0)]),_:2},1032,["value","title","subtitle","color","icon"]))),128))]),_:1},8,["model-value"])]),_:1}),t(me,{value:"list",class:"pa-4"},{default:i(()=>[a[29]||(a[29]=u("div",{class:"text-subtitle-1 mb-3"}," 最近動態 ",-1)),t(Pe,{lines:"two",density:"compact"},{default:i(()=>[t(ue,{class:"mb-2 pa-0"},{default:i(()=>[u("div",null,[t(le,{color:"warning",variant:"flat",label:"",size:"small",class:"mr-2"},{default:i(()=>[...a[18]||(a[18]=[m(" 拉回 ",-1)])]),_:1}),a[19]||(a[19]=u("span",{class:"font-weight-bold"},"王小明",-1)),a[20]||(a[20]=u("span",{class:"text-medium-emphasis"}," (採購部)",-1)),a[21]||(a[21]=u("div",{class:"text-caption text-medium-emphasis float-right"}," 2023-11-19 09:10 ",-1)),a[22]||(a[22]=u("div",{class:"text-body-2 mt-1 ml-1"}," 需要修改部分項目規格，拉回重新編輯。 ",-1))])]),_:1}),t(Q,{class:"my-2"}),t(ue,{class:"pa-0"},{default:i(()=>[u("div",null,[t(le,{color:"success",variant:"flat",label:"",size:"small",class:"mr-2"},{default:i(()=>[...a[23]||(a[23]=[m(" 核准 ",-1)])]),_:1}),a[24]||(a[24]=u("span",{class:"font-weight-bold"},"張總",-1)),a[25]||(a[25]=u("span",{class:"text-medium-emphasis"}," (總經理)",-1)),a[26]||(a[26]=u("div",{class:"text-caption text-medium-emphasis float-right"}," 2023-11-18 16:20 ",-1)),a[27]||(a[27]=u("div",{class:"text-body-2 mt-1 ml-1"}," 同意此價格表，請財務部門進行後續處理。 ",-1))])]),_:1})]),_:1}),u("div",sa,[t(h,{variant:"text",size:"small","append-icon":"ri-arrow-right-s-line",onClick:_},{default:i(()=>[...a[28]||(a[28]=[m(" 查看完整歷程 ",-1)])]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(de,{class:"mb-6",variant:"outlined"},{default:i(()=>[t(ce,{class:"d-flex justify-space-between align-center text-subtitle-1"},{default:i(()=>[a[30]||(a[30]=m(" 價格表基本資訊 ",-1)),t(le,{color:"primary",variant:"flat",size:"small"},{default:i(()=>[m(D(d.value.status),1)]),_:1})]),_:1}),t(Q),t(he,null,{default:i(()=>[t(ve,{dense:""},{default:i(()=>[t(A,{cols:"12",sm:"6",md:"3"},{default:i(()=>[a[31]||(a[31]=u("div",{class:"text-caption text-medium-emphasis"}," 表單編號 ",-1)),u("div",oa,D(d.value.id),1)]),_:1}),t(A,{cols:"12",sm:"6",md:"3"},{default:i(()=>[a[32]||(a[32]=u("div",{class:"text-caption text-medium-emphasis"}," 建立日期 ",-1)),u("div",ra,D(d.value.establishedDate),1)]),_:1}),t(A,{cols:"12",sm:"6",md:"3"},{default:i(()=>[a[33]||(a[33]=u("div",{class:"text-caption text-medium-emphasis"}," 提交人 ",-1)),u("div",ua,D(d.value.submitter),1)]),_:1}),t(A,{cols:"12",sm:"6",md:"3"},{default:i(()=>[a[34]||(a[34]=u("div",{class:"text-caption text-medium-emphasis"}," 供應商 ",-1)),u("div",da,D(d.value.supplier),1)]),_:1}),t(A,{cols:"12",sm:"6",md:"3"},{default:i(()=>[a[35]||(a[35]=u("div",{class:"text-caption text-medium-emphasis"}," 合約期間 ",-1)),u("div",ca,D(d.value.validityPeriod),1)]),_:1}),t(A,{cols:"12",sm:"6",md:"3"},{default:i(()=>[a[36]||(a[36]=u("div",{class:"text-caption text-medium-emphasis"}," 付款條件 ",-1)),u("div",ma,D(d.value.paymentTerms),1)]),_:1}),t(A,{cols:"12",sm:"6",md:"3"},{default:i(()=>[a[37]||(a[37]=u("div",{class:"text-caption text-medium-emphasis"}," 幣別 ",-1)),u("div",va,D(d.value.currency),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(de,{variant:"outlined"},{default:i(()=>[t(ce,{class:"d-flex justify-space-between align-center text-subtitle-1"},{default:i(()=>[a[40]||(a[40]=m(" 價格項目清單 ",-1)),u("div",null,[t(h,{color:"secondary",variant:"tonal",size:"small",class:"mr-2","prepend-icon":"ri-upload-2-line",onClick:T},{default:i(()=>[...a[38]||(a[38]=[m(" 批次上傳 ",-1)])]),_:1}),t(h,{color:"primary",variant:"flat",size:"small","prepend-icon":"ri-add-line",onClick:F},{default:i(()=>[...a[39]||(a[39]=[m(" 新增項目 ",-1)])]),_:1})])]),_:1}),t(Q),t(Ut,{headers:x,items:g.value,"items-length":p.value,"item-value":"id",class:"text-no-wrap",density:"compact","fixed-header":"",hover:"","items-per-page":"10"},{"item.unitPrice":i(({item:s})=>[m(D(V(s.unitPrice)),1)]),"item.subtotal":i(({item:s})=>[m(D(V(s.subtotal)),1)]),_:1},8,["items","items-length"])]),_:1})]),_:1}))}}),Aa=pt(fa,[["__scopeId","data-v-16e3f8ab"]]);export{Aa as default};

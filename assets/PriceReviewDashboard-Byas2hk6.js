import{V as Be}from"./VContainer-BgzbGJ72.js";import{a as H,V as ne}from"./VRow-Bb_h7gX3.js";import{D as E,E as p,ao as _e,y as I,r as C,x as me,aX as je,i as Ne,h as D,j as He,L as G,bb as Me,b as l,N as A,ar as Ue,ae as q,aI as P,aT as Ae,F as W,X as ae,bc as Ee,bd as pe,be as Ge,bf as Oe,G as oe,q as y,H as $e,aD as he,V as J,a4 as Le,aF as ge,aP as xe,R as ye,T as K,U as Ve,aC as qe,Q as Ce,aG as We,aE as Xe,a1 as Qe,aL as Je,a2 as Ke,P as Ye,a3 as Ze,bg as et,d as tt,f as lt,o as it,w as i,a as n,a8 as g,A as d,bh as se,t as nt,_ as at}from"./index-f8C_zMX3.js";import{V as ot,a as de,b as M,c as ue}from"./VMenu-DzIjNET0.js";import{V as re,a as fe,b as X}from"./VCard-BzVGWa28.js";import{V as U}from"./VChip-Ct4oe-55.js";import{V as Q}from"./VDivider-wkq_Fvh0.js";import{a as st,V as ve,f as dt,m as ut,b as rt,c as ft,d as vt}from"./VField-jI7I-AWn.js";import{I as ct}from"./VImg-BsVswq8j.js";import{V as mt,a as ce}from"./VWindowItem-BRT_VW48.js";/* empty css              */import"./index-CF5R-frH.js";import"./ssrBoot-Djruo2cy.js";import"./VAvatar-DY70Vfi3.js";import"./VSlideGroup-BBzacc2p.js";const gt=p({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...rt(),...ut()},"VTextarea"),xt=E()({name:"VTextarea",directives:{Intersect:ct},inheritAttrs:!1,props:gt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,v){let{attrs:o,emit:c,slots:r}=v;const u=_e(e,"modelValue"),{isFocused:f,focus:t,blur:s}=st(e),T=I(()=>typeof e.counterValue=="function"?e.counterValue(u.value):(u.value||"").toString().length),R=I(()=>{if(o.maxlength)return o.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function be(a,x){var m,V;!e.autofocus||!a||(V=(m=x[0].target)==null?void 0:m.focus)==null||V.call(m)}const Y=C(),F=C(),Z=me(""),B=C(),ke=I(()=>e.persistentPlaceholder||f.value||e.active);function O(){var a;B.value!==document.activeElement&&((a=B.value)==null||a.focus()),f.value||t()}function ze(a){O(),c("click:control",a)}function De(a){c("mousedown:control",a)}function Ie(a){a.stopPropagation(),O(),q(()=>{u.value="",Ge(e["onClick:clear"],a)})}function Se(a){var m;const x=a.target;if(u.value=x.value,(m=e.modelModifiers)!=null&&m.trim){const V=[x.selectionStart,x.selectionEnd];q(()=>{x.selectionStart=V[0],x.selectionEnd=V[1]})}}const k=C(),_=C(+e.rows),$=I(()=>["plain","underlined"].includes(e.variant));je(()=>{e.autoGrow||(_.value=+e.rows)});function z(){e.autoGrow&&q(()=>{if(!k.value||!F.value)return;const a=getComputedStyle(k.value),x=getComputedStyle(F.value.$el),m=parseFloat(a.getPropertyValue("--v-field-padding-top"))+parseFloat(a.getPropertyValue("--v-input-padding-top"))+parseFloat(a.getPropertyValue("--v-field-padding-bottom")),V=k.value.scrollHeight,j=parseFloat(a.lineHeight),h=Math.max(parseFloat(e.rows)*j+m,parseFloat(x.getPropertyValue("--v-input-control-height"))),L=parseFloat(e.maxRows)*j+m||1/0,b=Ae(V??0,h,L);_.value=Math.floor((b-m)/j),Z.value=P(b)})}Ne(z),D(u,z),D(()=>e.rows,z),D(()=>e.maxRows,z),D(()=>e.density,z);let w;return D(k,a=>{a?(w=new ResizeObserver(z),w.observe(k.value)):w==null||w.disconnect()}),He(()=>{w==null||w.disconnect()}),G(()=>{const a=!!(r.counter||e.counter||e.counterValue),x=!!(a||r.details),[m,V]=Me(o),{modelValue:j,...h}=ve.filterProps(e),L=dt(e);return l(ve,A({ref:Y,modelValue:u.value,"onUpdate:modelValue":b=>u.value=b,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":$.value},e.class],style:e.style},m,h,{centerAffix:_.value===1&&!$.value,focused:f.value}),{...r,default:b=>{let{id:N,isDisabled:ee,isDirty:te,isReadonly:Pe,isValid:Te}=b;return l(vt,A({ref:F,style:{"--v-textarea-control-height":Z.value},onClick:ze,onMousedown:De,"onClick:clear":Ie,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},L,{id:N.value,active:ke.value||te.value,centerAffix:_.value===1&&!$.value,dirty:te.value||e.dirty,disabled:ee.value,focused:f.value,error:Te.value===!1}),{...r,default:Re=>{let{props:{class:le,...ie}}=Re;return l(W,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),ae(l("textarea",A({ref:B,class:le,value:u.value,onInput:Se,autofocus:e.autofocus,readonly:Pe.value,disabled:ee.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:O,onBlur:s},ie,V),null),[[Ee("intersect"),{handler:be},null,{once:!0}]]),e.autoGrow&&ae(l("textarea",{class:[le,"v-textarea__sizer"],id:`${ie.id}-sizer`,"onUpdate:modelValue":Fe=>u.value=Fe,ref:k,readonly:!0,"aria-hidden":"true"},null),[[pe,u.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:x?b=>{var N;return l(W,null,[(N=r.details)==null?void 0:N.call(r,b),a&&l(W,null,[l("span",null,null),l(ft,{active:e.persistentCounter||f.value,value:T.value,max:R.value,disabled:e.disabled},r.counter)])])}:void 0})}),Ue({},Y,F,B)}}),yt=p({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Ve,iconColor:String,lineColor:String,...K(),...ye(),...xe(),...ge()},"VTimelineDivider"),Vt=E()({name:"VTimelineDivider",props:yt(),setup(e,v){let{slots:o}=v;const{sizeClasses:c,sizeStyles:r}=Oe(e,"v-timeline-divider__dot"),{backgroundColorStyles:u,backgroundColorClasses:f}=oe(y(e,"dotColor")),{roundedClasses:t}=$e(e,"v-timeline-divider__dot"),{elevationClasses:s}=he(e),{backgroundColorClasses:T,backgroundColorStyles:R}=oe(y(e,"lineColor"));return G(()=>l("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[l("div",{class:["v-timeline-divider__before",T.value],style:R.value},null),!e.hideDot&&l("div",{key:"dot",class:["v-timeline-divider__dot",s.value,t.value,c.value],style:r.value},[l("div",{class:["v-timeline-divider__inner-dot",f.value,t.value],style:u.value},[o.default?l(Le,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},o.default):l(J,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),l("div",{class:["v-timeline-divider__after",T.value],style:R.value},null)])),{}}}),we=p({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Ve,iconColor:String,lineInset:[Number,String],...K(),...We(),...ge(),...ye(),...xe(),...Ce()},"VTimelineItem"),S=E()({name:"VTimelineItem",props:we(),setup(e,v){let{slots:o}=v;const{dimensionStyles:c}=qe(e),r=me(0),u=C();return D(u,f=>{var t;f&&(r.value=((t=f.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:t.getBoundingClientRect().width)??0)},{flush:"post"}),G(()=>{var f,t;return l("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":P(r.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${P(e.lineInset)})`:P(0)},e.style]},[l("div",{class:"v-timeline-item__body",style:c.value},[(f=o.default)==null?void 0:f.call(o)]),l(Vt,{ref:u,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:o.icon}),e.density!=="compact"&&l("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((t=o.opposite)==null?void 0:t.call(o))])])}),{}}}),Ct=p({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...et(we({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...K(),...Ze(),...Ce(),...Ye()},"VTimeline"),wt=E()({name:"VTimeline",props:Ct(),setup(e,v){let{slots:o}=v;const{themeClasses:c}=Xe(e),{densityClasses:r}=Qe(e),{rtlClasses:u}=Je();Ke({VTimelineDivider:{lineColor:y(e,"lineColor")},VTimelineItem:{density:y(e,"density"),dotColor:y(e,"dotColor"),fillDot:y(e,"fillDot"),hideOpposite:y(e,"hideOpposite"),iconColor:y(e,"iconColor"),lineColor:y(e,"lineColor"),lineInset:y(e,"lineInset"),size:y(e,"size")}});const f=I(()=>{const s=e.side?e.side:e.density!=="default"?"end":null;return s&&`v-timeline--side-${s}`}),t=I(()=>{const s=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return s;case"start":return s[0];case"end":return s[1];default:return null}});return G(()=>l(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,t.value,{"v-timeline--inset-line":!!e.lineInset},c.value,r.value,f.value,u.value,e.class],style:[{"--v-timeline-line-thickness":P(e.lineThickness)},e.style]},o)),{}}}),bt={class:"d-flex justify-space-between align-center"},kt={class:"text-center mt-4"},zt=tt({__name:"PriceReviewDashboard",setup(e){const v=C("approve"),o=C(""),c=C("flow");function r(){console.log("提交簽核:",{action:v.value,comment:o.value})}function u(){console.log("查看完整歷程")}return(f,t)=>(it(),lt(Be,{fluid:""},{default:i(()=>[l(ne,{align:"center",class:"mb-4"},{default:i(()=>[l(H,{cols:"12",md:"6"},{default:i(()=>t[4]||(t[4]=[n("h1",{class:"text-h5"}," 價格表審核 ",-1)])),_:1}),l(H,{cols:"12",md:"6",class:"d-flex justify-end"},{default:i(()=>[l(g,{icon:"ri-sun-line",variant:"text",class:"mr-2"}),l(g,{icon:"ri-refresh-line",variant:"text",class:"mr-2"},{prepend:i(()=>[l(J,null,{default:i(()=>t[5]||(t[5]=[d("ri-refresh-line")])),_:1})]),default:i(()=>[t[6]||(t[6]=d(" 重新整理 "))]),_:1}),l(g,{icon:"ri-download-line",variant:"text",class:"mr-2"},{prepend:i(()=>[l(J,null,{default:i(()=>t[7]||(t[7]=[d("ri-download-line")])),_:1})]),default:i(()=>[t[8]||(t[8]=d(" 匯出 "))]),_:1}),l(ot,null,{activator:i(({props:s})=>[l(g,A({icon:"ri-more-line"},s,{variant:"text"}),null,16)]),default:i(()=>[l(de,null,{default:i(()=>[l(M,{onClick:()=>{}},{default:i(()=>[l(ue,null,{default:i(()=>t[9]||(t[9]=[d("操作 1")])),_:1})]),_:1}),l(M,{onClick:()=>{}},{default:i(()=>[l(ue,null,{default:i(()=>t[10]||(t[10]=[d("操作 2")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(ne,null,{default:i(()=>[l(H,{cols:"12",md:"4"},{default:i(()=>[l(re,{outlined:""},{default:i(()=>[l(fe,{class:"d-flex justify-space-between align-center"},{default:i(()=>[t[12]||(t[12]=d(" 簽核意見 ")),l(U,{color:"blue-lighten-1",variant:"flat",size:"small"},{default:i(()=>t[11]||(t[11]=[d(" 財務部審核階段 ")])),_:1})]),_:1}),l(Q),l(X,null,{default:i(()=>[l(se,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=s=>v.value=s),mandatory:"",variant:"outlined",divided:"",class:"mb-4 d-flex"},{default:i(()=>[l(g,{value:"approve",class:"flex-grow-1"},{default:i(()=>t[13]||(t[13]=[d(" 核准 ")])),_:1}),l(g,{value:"reject",class:"flex-grow-1"},{default:i(()=>t[14]||(t[14]=[d(" 退回 ")])),_:1}),l(g,{value:"countersign",class:"flex-grow-1"},{default:i(()=>t[15]||(t[15]=[d(" 加簽 ")])),_:1})]),_:1},8,["modelValue"]),l(xt,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=s=>o.value=s),label:"請輸入核准意見...",variant:"outlined",rows:"5","no-resize":"","auto-grow":"",class:"mb-4"},null,8,["modelValue"]),n("div",bt,[l(g,{variant:"text","prepend-icon":"ri-attachment-line"},{default:i(()=>t[16]||(t[16]=[d(" 附件 ")])),_:1}),l(g,{color:v.value==="reject"?"error":"black","prepend-icon":v.value==="reject"?"ri-arrow-left-line":"ri-thumb-up-line",size:"large",variant:"flat",onClick:r},{default:i(()=>[d(nt(v.value==="approve"?"核准":v.value==="reject"?"退回":"送出"),1)]),_:1},8,["color","prepend-icon"])])]),_:1})]),_:1})]),_:1}),l(H,{cols:"12",md:"8"},{default:i(()=>[l(re,{outlined:""},{default:i(()=>[l(fe,{class:"d-flex justify-space-between align-center"},{default:i(()=>[t[19]||(t[19]=d(" 簽核流程與歷程 ")),l(se,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=s=>c.value=s),mandatory:"",variant:"outlined",density:"compact"},{default:i(()=>[l(g,{value:"flow",size:"small"},{default:i(()=>t[17]||(t[17]=[d(" 流程圖 ")])),_:1}),l(g,{value:"list",size:"small"},{default:i(()=>t[18]||(t[18]=[d(" 歷程列表 ")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(Q),l(mt,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=s=>c.value=s)},{default:i(()=>[l(ce,{value:"flow"},{default:i(()=>[l(X,null,{default:i(()=>[l(wt,{side:"end",align:"start","truncate-line":"both",density:"compact"},{default:i(()=>[l(S,{"dot-color":"blue",size:"small"},{default:i(()=>t[20]||(t[20]=[n("div",null,[n("div",{class:"font-weight-medium"}," 提交審核 "),n("div",{class:"text-caption"}," 採購部 "),n("div",{class:"text-caption text-grey"}," 2023-11-15 ")],-1)])),_:1}),l(S,{"dot-color":"green",size:"small"},{default:i(()=>t[21]||(t[21]=[n("div",null,[n("div",{class:"font-weight-medium"}," 採購主管 "),n("div",{class:"text-caption"}," 採購經理 "),n("div",{class:"text-caption text-grey"}," 2023-11-16 ")],-1)])),_:1}),l(S,{"dot-color":"green",size:"small"},{default:i(()=>t[22]||(t[22]=[n("div",null,[n("div",{class:"font-weight-medium"}," 財務部 "),n("div",{class:"text-caption"}," 財務主管 "),n("div",{class:"text-caption text-grey"}," 2023-11-17 ")],-1)])),_:1}),l(S,{"dot-color":"green",size:"small"},{default:i(()=>t[23]||(t[23]=[n("div",null,[n("div",{class:"font-weight-medium"}," 總經理 "),n("div",{class:"text-caption"}," 總經理 "),n("div",{class:"text-caption text-grey"}," 2023-11-18 ")],-1)])),_:1}),l(S,{"dot-color":"orange",size:"small"},{default:i(()=>[n("div",null,[t[25]||(t[25]=n("div",{class:"font-weight-medium"}," 完成 (已退回) ",-1)),t[26]||(t[26]=n("div",{class:"text-caption text-grey"}," 2023-11-19 ",-1)),l(U,{density:"compact",variant:"tonal",class:"mt-1"},{default:i(()=>t[24]||(t[24]=[d(" 需要修改部分項目規格，拉回重新編輯。 ")])),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),l(ce,{value:"list"},{default:i(()=>[l(X,null,{default:i(()=>[t[38]||(t[38]=n("div",{class:"text-subtitle-1 mb-3"}," 最近動態 ",-1)),l(de,{lines:"two",density:"compact"},{default:i(()=>[l(M,{class:"mb-2 pa-0"},{default:i(()=>[n("div",null,[l(U,{color:"orange-lighten-2",label:"",size:"small",class:"mr-2"},{default:i(()=>t[27]||(t[27]=[d(" 拉回 ")])),_:1}),t[28]||(t[28]=n("span",{class:"font-weight-bold"},"王小明",-1)),t[29]||(t[29]=n("span",{class:"text-grey-darken-1"}," (採購部)",-1)),t[30]||(t[30]=n("div",{class:"text-caption text-grey-darken-1 float-right"}," 2023-11-19 09:10 ",-1)),t[31]||(t[31]=n("div",{class:"text-body-2 mt-1 ml-1"}," 需要修改部分項目規格，拉回重新編輯。 ",-1))])]),_:1}),l(Q,{class:"my-2"}),l(M,{class:"pa-0"},{default:i(()=>[n("div",null,[l(U,{color:"green-lighten-1",label:"",size:"small",class:"mr-2"},{default:i(()=>t[32]||(t[32]=[d(" 核准 ")])),_:1}),t[33]||(t[33]=n("span",{class:"font-weight-bold"},"張總",-1)),t[34]||(t[34]=n("span",{class:"text-grey-darken-1"}," (總經理)",-1)),t[35]||(t[35]=n("div",{class:"text-caption text-grey-darken-1 float-right"}," 2023-11-18 16:20 ",-1)),t[36]||(t[36]=n("div",{class:"text-body-2 mt-1 ml-1"}," 同意此價格表，請財務部門進行後續處理。 ",-1))])]),_:1})]),_:1}),n("div",kt,[l(g,{variant:"text","append-icon":"ri-arrow-right-s-line",onClick:u},{default:i(()=>t[37]||(t[37]=[d(" 查看完整歷程 ")])),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Et=at(zt,[["__scopeId","data-v-c89a2c1d"]]);export{Et as default};
